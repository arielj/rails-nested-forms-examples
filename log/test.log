  [1m[35m (3.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (209.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (114.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20191201200854)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(40), "lastname" varchar(40), "email" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20191201200854"]]
  [1m[35m (107.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateAddresses (20191201205334)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "street" varchar, "number" varchar, "floor" varchar, "department" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_48c9e0c5a2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20191201205334"]]
  [1m[35m (95.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2019-12-01 20:58:01.646838"], ["updated_at", "2019-12-01 20:58:01.646838"]]
  [1m[35m (74.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses"[0m
  [1m[35m (115.7ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "street" varchar, "number" varchar, "floor" varchar, "department" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (115.6ms)[0m  [1m[35mCREATE  INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (98.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(40), "lastname" varchar(40), "email" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (115.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aaddresses" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer DEFAULT NULL, "street" varchar DEFAULT NULL, "number" varchar DEFAULT NULL, "floor" varchar DEFAULT NULL, "department" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aaddresses_on_user_id" ON "aaddresses" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aaddresses" ("id","user_id","street","number","floor","department","created_at","updated_at")
                     SELECT "id","user_id","street","number","floor","department","created_at","updated_at" FROM "addresses"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "addresses"[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer DEFAULT NULL, "street" varchar DEFAULT NULL, "number" varchar DEFAULT NULL, "floor" varchar DEFAULT NULL, "department" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_48c9e0c5a2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("id","user_id","street","number","floor","department","created_at","updated_at")
                     SELECT "id","user_id","street","number","floor","department","created_at","updated_at" FROM "aaddresses"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "aaddresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (73.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (101.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (93.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20191201205334)[0m
  [1m[35m (82.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20191201200854);

[0m
  [1m[35m (77.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2019-12-01 20:58:06.877622"], ["updated_at", "2019-12-01 20:58:06.877622"]]
  [1m[35m (72.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "40ae12d0c85b46dd3038a04c9f01f782f99f8e28"], ["created_at", "2019-12-01 20:58:06.958718"], ["updated_at", "2019-12-01 20:58:06.958718"]]
  [1m[35m (49.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses"[0m
  [1m[35m (228.7ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "street" varchar, "number" varchar, "floor" varchar, "department" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (228.7ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "street" varchar, "number" varchar, "floor" varchar, "department" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (222.1ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "street" varchar, "number" varchar, "floor" varchar, "department" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (282.7ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "street" varchar, "number" varchar, "floor" varchar, "department" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (248.8ms)[0m  [1m[35mCREATE  INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (248.4ms)[0m  [1m[35mCREATE  INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (248.4ms)[0m  [1m[35mCREATE  INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (321.0ms)[0m  [1m[35mCREATE  INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (317.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(40), "lastname" varchar(40), "email" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (317.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(40), "lastname" varchar(40), "email" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (317.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(40), "lastname" varchar(40), "email" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (257.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(40), "lastname" varchar(40), "email" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (261.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (261.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (261.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aaddresses" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer DEFAULT NULL, "street" varchar DEFAULT NULL, "number" varchar DEFAULT NULL, "floor" varchar DEFAULT NULL, "department" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aaddresses" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer DEFAULT NULL, "street" varchar DEFAULT NULL, "number" varchar DEFAULT NULL, "floor" varchar DEFAULT NULL, "department" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aaddresses" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer DEFAULT NULL, "street" varchar DEFAULT NULL, "number" varchar DEFAULT NULL, "floor" varchar DEFAULT NULL, "department" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aaddresses_on_user_id" ON "aaddresses" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aaddresses_on_user_id" ON "aaddresses" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aaddresses_on_user_id" ON "aaddresses" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aaddresses" ("id","user_id","street","number","floor","department","created_at","updated_at")
                     SELECT "id","user_id","street","number","floor","department","created_at","updated_at" FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aaddresses" ("id","user_id","street","number","floor","department","created_at","updated_at")
                     SELECT "id","user_id","street","number","floor","department","created_at","updated_at" FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aaddresses" ("id","user_id","street","number","floor","department","created_at","updated_at")
                     SELECT "id","user_id","street","number","floor","department","created_at","updated_at" FROM "addresses"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "addresses"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "addresses"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "addresses"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer DEFAULT NULL, "street" varchar DEFAULT NULL, "number" varchar DEFAULT NULL, "floor" varchar DEFAULT NULL, "department" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_48c9e0c5a2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer DEFAULT NULL, "street" varchar DEFAULT NULL, "number" varchar DEFAULT NULL, "floor" varchar DEFAULT NULL, "department" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_48c9e0c5a2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer DEFAULT NULL, "street" varchar DEFAULT NULL, "number" varchar DEFAULT NULL, "floor" varchar DEFAULT NULL, "department" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_48c9e0c5a2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("id","user_id","street","number","floor","department","created_at","updated_at")
                     SELECT "id","user_id","street","number","floor","department","created_at","updated_at" FROM "aaddresses"[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("id","user_id","street","number","floor","department","created_at","updated_at")
                     SELECT "id","user_id","street","number","floor","department","created_at","updated_at" FROM "aaddresses"[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("id","user_id","street","number","floor","department","created_at","updated_at")
                     SELECT "id","user_id","street","number","floor","department","created_at","updated_at" FROM "aaddresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aaddresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aaddresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aaddresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (259.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aaddresses" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer DEFAULT NULL, "street" varchar DEFAULT NULL, "number" varchar DEFAULT NULL, "floor" varchar DEFAULT NULL, "department" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aaddresses_on_user_id" ON "aaddresses" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aaddresses" ("id","user_id","street","number","floor","department","created_at","updated_at")
                     SELECT "id","user_id","street","number","floor","department","created_at","updated_at" FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer DEFAULT NULL, "street" varchar DEFAULT NULL, "number" varchar DEFAULT NULL, "floor" varchar DEFAULT NULL, "department" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_48c9e0c5a2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("id","user_id","street","number","floor","department","created_at","updated_at")
                     SELECT "id","user_id","street","number","floor","department","created_at","updated_at" FROM "aaddresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aaddresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (209.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (225.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (226.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (213.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (240.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (298.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (356.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (357.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (244.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20191201205334)[0m
  [1m[35m (243.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20191201205334)[0m
  [1m[35m (184.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20191201205334)[0m
  [1m[35m (184.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20191201205334)[0m
  [1m[35m (251.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20191201200854);

[0m
  [1m[35m (251.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20191201200854);

[0m
  [1m[35m (360.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20191201200854);

[0m
  [1m[35m (360.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20191201200854);

[0m
  [1m[35m (275.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (275.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2019-12-01 20:58:09.549003"], ["updated_at", "2019-12-01 20:58:09.549003"]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2019-12-01 20:58:09.550308"], ["updated_at", "2019-12-01 20:58:09.550308"]]
  [1m[35m (215.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (215.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2019-12-01 20:58:09.613715"], ["updated_at", "2019-12-01 20:58:09.613715"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2019-12-01 20:58:09.613733"], ["updated_at", "2019-12-01 20:58:09.613733"]]
  [1m[35m (192.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "40ae12d0c85b46dd3038a04c9f01f782f99f8e28"], ["created_at", "2019-12-01 20:58:09.751160"], ["updated_at", "2019-12-01 20:58:09.751160"]]
  [1m[35m (212.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "40ae12d0c85b46dd3038a04c9f01f782f99f8e28"], ["created_at", "2019-12-01 20:58:09.773794"], ["updated_at", "2019-12-01 20:58:09.773794"]]
  [1m[35m (201.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (201.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "40ae12d0c85b46dd3038a04c9f01f782f99f8e28"], ["created_at", "2019-12-01 20:58:09.825030"], ["updated_at", "2019-12-01 20:58:09.825030"]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "40ae12d0c85b46dd3038a04c9f01f782f99f8e28"], ["created_at", "2019-12-01 20:58:09.826075"], ["updated_at", "2019-12-01 20:58:09.826075"]]
  [1m[35m (115.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (114.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (167.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (189.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 20:58:09.962731', '2019-12-01 20:58:09.962731');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 20:58:09.962731', '2019-12-01 20:58:09.962731');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 20:58:09.967727', '2019-12-01 20:58:09.967727');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 20:58:09.967727', '2019-12-01 20:58:09.967727')[0m
  [1m[35m (82.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UserTest: test_it_has_an_address
--------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (382.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 20:59:34.816071', '2019-12-01 20:59:34.816071');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 20:59:34.816071', '2019-12-01 20:59:34.816071');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 20:59:34.823132', '2019-12-01 20:59:34.823132');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 20:59:34.823132', '2019-12-01 20:59:34.823132')[0m
  [1m[36mTruncate Tables (452.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (450.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (452.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (132.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (459.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (456.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (457.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (491.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (3.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 20:59:59.160518', '2019-12-01 20:59:59.160518');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 20:59:59.160518', '2019-12-01 20:59:59.160518');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 20:59:59.162145', '2019-12-01 20:59:59.162145');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 20:59:59.162145', '2019-12-01 20:59:59.162145')[0m
  [1m[35m (90.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (421.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (417.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (422.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (420.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:01:08.952304', '2019-12-01 21:01:08.952304');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:01:08.952304', '2019-12-01 21:01:08.952304');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:01:08.956736', '2019-12-01 21:01:08.956736');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:01:08.956736', '2019-12-01 21:01:08.956736')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:01:08.953502', '2019-12-01 21:01:08.953502');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:01:08.953502', '2019-12-01 21:01:08.953502');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:01:08.957452', '2019-12-01 21:01:08.957452');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:01:08.957452', '2019-12-01 21:01:08.957452')[0m
  [1m[35m (152.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (179.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (425.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[36mTruncate Tables (455.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:04:14.900351', '2019-12-01 21:04:14.900351');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:04:14.900351', '2019-12-01 21:04:14.900351');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:04:14.905207', '2019-12-01 21:04:14.905207');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:04:14.905207', '2019-12-01 21:04:14.905207')[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:04:14.920585', '2019-12-01 21:04:14.920585');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:04:14.920585', '2019-12-01 21:04:14.920585');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:04:14.922777', '2019-12-01 21:04:14.922777');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:04:14.922777', '2019-12-01 21:04:14.922777')[0m
  [1m[36mTruncate Tables (509.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (510.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:04:14.988684', '2019-12-01 21:04:14.988684');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:04:14.988684', '2019-12-01 21:04:14.988684');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:04:14.993649', '2019-12-01 21:04:14.993649');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:04:14.993649', '2019-12-01 21:04:14.993649')[0m
  [1m[35m (210.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (224.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
AddressTest: test_it_can_add_attributes_for_the_user
----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (164.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (435.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (439.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (438.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (437.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (399.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (423.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:04:36.088856', '2019-12-01 21:04:36.088856');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:04:36.088856', '2019-12-01 21:04:36.088856');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:04:36.095431', '2019-12-01 21:04:36.095431');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:04:36.095431', '2019-12-01 21:04:36.095431')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:04:36.106735', '2019-12-01 21:04:36.106735');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:04:36.106735', '2019-12-01 21:04:36.106735');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:04:36.109055', '2019-12-01 21:04:36.109055');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:04:36.109055', '2019-12-01 21:04:36.109055')[0m
  [1m[36mTruncate Tables (464.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (467.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:04:36.153381', '2019-12-01 21:04:36.153381');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:04:36.153381', '2019-12-01 21:04:36.153381');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:04:36.157510', '2019-12-01 21:04:36.157510');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:04:36.157510', '2019-12-01 21:04:36.157510')[0m
  [1m[35m (211.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (200.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------
------------------------------------
AddressTest: test_it_can_add_attributes_for_the_user
AddressTest: test_it_has_a_User_user
----------------------------------------------------
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (186.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (402.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (400.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:06:17.045448', '2019-12-01 21:06:17.045448');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:06:17.045448', '2019-12-01 21:06:17.045448');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:06:17.046763', '2019-12-01 21:06:17.046763');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:06:17.046763', '2019-12-01 21:06:17.046763')[0m
  [1m[36mTruncate Tables (456.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (455.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:06:17.075882', '2019-12-01 21:06:17.075882');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:06:17.075882', '2019-12-01 21:06:17.075882');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:06:17.080326', '2019-12-01 21:06:17.080326');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:06:17.080326', '2019-12-01 21:06:17.080326')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:06:17.114445', '2019-12-01 21:06:17.114445');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:06:17.114445', '2019-12-01 21:06:17.114445');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:06:17.115681', '2019-12-01 21:06:17.115681');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:06:17.115681', '2019-12-01 21:06:17.115681')[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:06:17.114445', '2019-12-01 21:06:17.114445');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:06:17.114445', '2019-12-01 21:06:17.114445');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:06:17.115680', '2019-12-01 21:06:17.115680');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:06:17.115680', '2019-12-01 21:06:17.115680')[0m
  [1m[35m (249.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (264.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (271.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (271.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (400.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (398.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (397.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[36mTruncate Tables (396.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:06:30.739397', '2019-12-01 21:06:30.739397');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:06:30.739397', '2019-12-01 21:06:30.739397');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:06:30.743970', '2019-12-01 21:06:30.743970');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:06:30.743970', '2019-12-01 21:06:30.743970')[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:06:30.739978', '2019-12-01 21:06:30.739978');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:06:30.739978', '2019-12-01 21:06:30.739978');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:06:30.744304', '2019-12-01 21:06:30.744304');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:06:30.744304', '2019-12-01 21:06:30.744304')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:06:30.740637', '2019-12-01 21:06:30.740637');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:06:30.740637', '2019-12-01 21:06:30.740637');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:06:30.744670', '2019-12-01 21:06:30.744670');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:06:30.744670', '2019-12-01 21:06:30.744670')[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:06:30.740821', '2019-12-01 21:06:30.740821');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:06:30.740821', '2019-12-01 21:06:30.740821');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 21:06:30.744835', '2019-12-01 21:06:30.744835');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 21:06:30.744835', '2019-12-01 21:06:30.744835')[0m
  [1m[35m (175.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (269.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (269.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (268.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
AddressTest: test_it_has_a_User_user
-------------------------------------------------
------------------------------------
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (364.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (7.5ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:09:33.955323', '2019-12-01 22:09:33.955323');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:09:33.955323', '2019-12-01 22:09:33.955323');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:09:33.958799', '2019-12-01 22:09:33.958799');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:09:33.958799', '2019-12-01 22:09:33.958799')[0m
  [1m[36mTruncate Tables (419.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[36mTruncate Tables (420.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (421.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (3.7ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (3.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (3.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:09:33.994842', '2019-12-01 22:09:33.994842');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:09:33.994842', '2019-12-01 22:09:33.994842');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:09:33.997715', '2019-12-01 22:09:33.997715');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:09:33.997715', '2019-12-01 22:09:33.997715')[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:09:33.994842', '2019-12-01 22:09:33.994842');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:09:33.994842', '2019-12-01 22:09:33.994842');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:09:33.997715', '2019-12-01 22:09:33.997715');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:09:33.997715', '2019-12-01 22:09:33.997715')[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:09:34.023343', '2019-12-01 22:09:34.023343');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:09:34.023343', '2019-12-01 22:09:34.023343');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:09:34.025963', '2019-12-01 22:09:34.025963');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:09:34.025963', '2019-12-01 22:09:34.025963')[0m
  [1m[35m (189.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (190.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (162.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (228.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (1.5ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
----------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
-------------------------------------------------
-------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
AddressTest: test_it_adds_attributes_for_the_user
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
-------------------------------------------------------------------------------------------------------
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (372.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:10:43.644334', '2019-12-01 22:10:43.644334');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:10:43.644334', '2019-12-01 22:10:43.644334');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:10:43.645681', '2019-12-01 22:10:43.645681');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:10:43.645681', '2019-12-01 22:10:43.645681')[0m
  [1m[36mTruncate Tables (406.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (407.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (409.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:10:43.680604', '2019-12-01 22:10:43.680604');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:10:43.680604', '2019-12-01 22:10:43.680604');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:10:43.682159', '2019-12-01 22:10:43.682159');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:10:43.682159', '2019-12-01 22:10:43.682159')[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:10:43.680604', '2019-12-01 22:10:43.680604');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:10:43.680604', '2019-12-01 22:10:43.680604');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:10:43.682237', '2019-12-01 22:10:43.682237');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:10:43.682237', '2019-12-01 22:10:43.682237')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:10:43.681292', '2019-12-01 22:10:43.681292');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:10:43.681292', '2019-12-01 22:10:43.681292');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:10:43.683229', '2019-12-01 22:10:43.683229');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:10:43.683229', '2019-12-01 22:10:43.683229')[0m
  [1m[35m (191.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (206.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (204.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (206.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
----------------------------------------
UserTest: test_it_adds_attributes_for_the_address
UserTest: test_it_has_an_Address_address
-------------------------------------------------
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (376.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:11:20.501033', '2019-12-01 22:11:20.501033');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:11:20.501033', '2019-12-01 22:11:20.501033');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:11:20.505684', '2019-12-01 22:11:20.505684');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:11:20.505684', '2019-12-01 22:11:20.505684')[0m
  [1m[36mTruncate Tables (429.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (431.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (433.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:11:20.541549', '2019-12-01 22:11:20.541549');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:11:20.541549', '2019-12-01 22:11:20.541549');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:11:20.543994', '2019-12-01 22:11:20.543994');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:11:20.543994', '2019-12-01 22:11:20.543994')[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:11:20.541586', '2019-12-01 22:11:20.541586');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:11:20.541586', '2019-12-01 22:11:20.541586');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:11:20.543890', '2019-12-01 22:11:20.543890');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:11:20.543890', '2019-12-01 22:11:20.543890')[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:11:20.542326', '2019-12-01 22:11:20.542326');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:11:20.542326', '2019-12-01 22:11:20.542326');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:11:20.544374', '2019-12-01 22:11:20.544374');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:11:20.544374', '2019-12-01 22:11:20.544374')[0m
  [1m[35m (177.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (194.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (194.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (194.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
-------------------------------------------------
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:11:20 -0300
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (367.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (385.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (415.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (414.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.8ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:11:55.508651', '2019-12-01 22:11:55.508651');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:11:55.508651', '2019-12-01 22:11:55.508651');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:11:55.514154', '2019-12-01 22:11:55.514154');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:11:55.514154', '2019-12-01 22:11:55.514154')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.8ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:11:55.512805', '2019-12-01 22:11:55.512805');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:11:55.512805', '2019-12-01 22:11:55.512805');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:11:55.519762', '2019-12-01 22:11:55.519762');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:11:55.519762', '2019-12-01 22:11:55.519762')[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:11:55.522315', '2019-12-01 22:11:55.522315');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:11:55.522315', '2019-12-01 22:11:55.522315');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:11:55.526766', '2019-12-01 22:11:55.526766');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:11:55.526766', '2019-12-01 22:11:55.526766')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:11:55.525279', '2019-12-01 22:11:55.525279');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:11:55.525279', '2019-12-01 22:11:55.525279');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:11:55.529377', '2019-12-01 22:11:55.529377');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:11:55.529377', '2019-12-01 22:11:55.529377')[0m
  [1m[35m (154.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:11:55 -0300
Processing by UsersController#new_with_address as HTML
Completed 406 Not Acceptable in 9ms (ActiveRecord: 0.0ms | Allocations: 1765)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (227.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (222.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (219.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (345.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:12:30.668807', '2019-12-01 22:12:30.668807');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:12:30.668807', '2019-12-01 22:12:30.668807');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:12:30.673566', '2019-12-01 22:12:30.673566');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:12:30.673566', '2019-12-01 22:12:30.673566')[0m
  [1m[36mTruncate Tables (383.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (378.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (381.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:12:30.694910', '2019-12-01 22:12:30.694910');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:12:30.694910', '2019-12-01 22:12:30.694910');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:12:30.696767', '2019-12-01 22:12:30.696767');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:12:30.696767', '2019-12-01 22:12:30.696767')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:12:30.696703', '2019-12-01 22:12:30.696703');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:12:30.696703', '2019-12-01 22:12:30.696703');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:12:30.699280', '2019-12-01 22:12:30.699280');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:12:30.699280', '2019-12-01 22:12:30.699280')[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:12:30.697207', '2019-12-01 22:12:30.697207');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:12:30.697207', '2019-12-01 22:12:30.697207');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:12:30.699743', '2019-12-01 22:12:30.699743');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:12:30.699743', '2019-12-01 22:12:30.699743')[0m
  [1m[35m (163.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (201.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (198.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (199.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:12:30 -0300
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by UsersController#new_with_address as HTML
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 406 Not Acceptable in 48ms (ActiveRecord: 0.0ms | Allocations: 11355)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (376.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (419.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (421.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (419.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:16:18.197109', '2019-12-01 22:16:18.197109');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:16:18.197109', '2019-12-01 22:16:18.197109');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:16:18.200334', '2019-12-01 22:16:18.200334');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:16:18.200334', '2019-12-01 22:16:18.200334')[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:16:18.207464', '2019-12-01 22:16:18.207464');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:16:18.207464', '2019-12-01 22:16:18.207464');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:16:18.210132', '2019-12-01 22:16:18.210132');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:16:18.210132', '2019-12-01 22:16:18.210132')[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:16:18.207464', '2019-12-01 22:16:18.207464');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:16:18.207464', '2019-12-01 22:16:18.207464');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:16:18.210132', '2019-12-01 22:16:18.210132');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:16:18.210132', '2019-12-01 22:16:18.210132')[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:16:18.215269', '2019-12-01 22:16:18.215269');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:16:18.215269', '2019-12-01 22:16:18.215269');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:16:18.217220', '2019-12-01 22:16:18.217220');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:16:18.217220', '2019-12-01 22:16:18.217220')[0m
  [1m[35m (163.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:16:18 -0300
Processing by UsersController#new_with_address as HTML
  [1m[35m (246.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (246.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (239.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
  [1m[35m (0.9ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
-------------------------------------------------
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering users/new_with_address.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 83.2ms | Allocations: 6554)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/ariel/dev/rails-nested-forms-examples/public/packs-test
[Webpacker] Hash: 57d7630ac07a5b9e9e89
Version: webpack 4.41.2
Time: 2553ms
Built at: 2019-12-01 7:16:24 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-553a6d69ef4b54f3ee83.js    124 KiB  application  [emitted] [immutable]  application
js/application-553a6d69ef4b54f3ee83.js.map    139 KiB  application  [emitted] [dev]        application
                             manifest.json  384 bytes               [emitted]              
Entrypoint application = js/application-553a6d69ef4b54f3ee83.js js/application-553a6d69ef4b54f3ee83.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 3 hidden modules

Completed 200 OK in 6439ms (Views: 6352.6ms | ActiveRecord: 0.0ms | Allocations: 16639)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (394.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:18:13.438884', '2019-12-01 22:18:13.438884');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:18:13.438884', '2019-12-01 22:18:13.438884');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:18:13.443103', '2019-12-01 22:18:13.443103');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:18:13.443103', '2019-12-01 22:18:13.443103')[0m
  [1m[36mTruncate Tables (453.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (452.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (454.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:18:13.481963', '2019-12-01 22:18:13.481963');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:18:13.481963', '2019-12-01 22:18:13.481963');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:18:13.484382', '2019-12-01 22:18:13.484382');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:18:13.484382', '2019-12-01 22:18:13.484382')[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:18:13.481963', '2019-12-01 22:18:13.481963');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:18:13.481963', '2019-12-01 22:18:13.481963');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:18:13.484382', '2019-12-01 22:18:13.484382');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:18:13.484382', '2019-12-01 22:18:13.484382')[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:18:13.482006', '2019-12-01 22:18:13.482006');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:18:13.482006', '2019-12-01 22:18:13.482006');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:18:13.484385', '2019-12-01 22:18:13.484385');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:18:13.484385', '2019-12-01 22:18:13.484385')[0m
  [1m[35m (173.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:18:13 -0300
Processing by UsersController#new_with_address as HTML
  Rendering users/new_with_address.html.erb within layouts/application
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 4.3ms | Allocations: 4058)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 18.2ms | ActiveRecord: 0.0ms | Allocations: 21262)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (220.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (219.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (220.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
----------------------------------------
-------------------------------------------------
UserTest: test_it_has_an_Address_address
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (631.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (632.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.0ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:19:54.050062', '2019-12-01 22:19:54.050062');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:19:54.050062', '2019-12-01 22:19:54.050062');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:19:54.051868', '2019-12-01 22:19:54.051868');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:19:54.051868', '2019-12-01 22:19:54.051868')[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:19:54.055715', '2019-12-01 22:19:54.055715');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:19:54.055715', '2019-12-01 22:19:54.055715');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:19:54.057757', '2019-12-01 22:19:54.057757');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:19:54.057757', '2019-12-01 22:19:54.057757')[0m
  [1m[36mTruncate Tables (696.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (700.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:19:54.133764', '2019-12-01 22:19:54.133764');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:19:54.133764', '2019-12-01 22:19:54.133764');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:19:54.137257', '2019-12-01 22:19:54.137257');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:19:54.137257', '2019-12-01 22:19:54.137257')[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:19:54.134000', '2019-12-01 22:19:54.134000');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:19:54.134000', '2019-12-01 22:19:54.134000');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:19:54.137592', '2019-12-01 22:19:54.137592');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:19:54.137592', '2019-12-01 22:19:54.137592')[0m
  [1m[35m (173.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (178.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (183.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (183.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:19:54 -0300
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by UsersController#new_with_address as HTML
  Rendering users/new_with_address.html.erb within layouts/application
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 4.6ms | Allocations: 4062)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 20.5ms | ActiveRecord: 0.0ms | Allocations: 21648)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (416.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:20:08.873189', '2019-12-01 22:20:08.873189');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:20:08.873189', '2019-12-01 22:20:08.873189');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:20:08.878043', '2019-12-01 22:20:08.878043');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:20:08.878043', '2019-12-01 22:20:08.878043')[0m
  [1m[36mTruncate Tables (495.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (498.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (497.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:20:08.946572', '2019-12-01 22:20:08.946572');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:20:08.946572', '2019-12-01 22:20:08.946572');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:20:08.949949', '2019-12-01 22:20:08.949949');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:20:08.949949', '2019-12-01 22:20:08.949949')[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:20:08.946577', '2019-12-01 22:20:08.946577');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:20:08.946577', '2019-12-01 22:20:08.946577');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:20:08.949945', '2019-12-01 22:20:08.949945');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:20:08.949945', '2019-12-01 22:20:08.949945')[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:20:08.946572', '2019-12-01 22:20:08.946572');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:20:08.946572', '2019-12-01 22:20:08.946572');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:20:08.949951', '2019-12-01 22:20:08.949951');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:20:08.949951', '2019-12-01 22:20:08.949951')[0m
  [1m[35m (203.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:20:09 -0300
Processing by UsersController#new_with_address as HTML
  Rendering users/new_with_address.html.erb within layouts/application
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 4.6ms | Allocations: 4062)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 20.3ms | ActiveRecord: 0.0ms | Allocations: 21671)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (232.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (232.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (232.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
----------------------------------------
-------------------------------------------------
UserTest: test_it_has_an_Address_address
AddressTest: test_it_adds_attributes_for_the_user
----------------------------------------
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (458.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (496.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:21:04.761609', '2019-12-01 22:21:04.761609');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:21:04.761609', '2019-12-01 22:21:04.761609');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:21:04.767721', '2019-12-01 22:21:04.767721');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:21:04.767721', '2019-12-01 22:21:04.767721')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:21:04.781312', '2019-12-01 22:21:04.781312');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:21:04.781312', '2019-12-01 22:21:04.781312');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:21:04.784636', '2019-12-01 22:21:04.784636');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:21:04.784636', '2019-12-01 22:21:04.784636')[0m
  [1m[36mTruncate Tables (531.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (562.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:21:04.841950', '2019-12-01 22:21:04.841950');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:21:04.841950', '2019-12-01 22:21:04.841950');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:21:04.844156', '2019-12-01 22:21:04.844156');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:21:04.844156', '2019-12-01 22:21:04.844156')[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:21:04.841950', '2019-12-01 22:21:04.841950');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:21:04.841950', '2019-12-01 22:21:04.841950');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:21:04.844167', '2019-12-01 22:21:04.844167');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:21:04.844167', '2019-12-01 22:21:04.844167')[0m
  [1m[35m (205.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:21:05 -0300
  [1m[35m (199.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (271.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
------------------------------------
UserTest: test_it_adds_attributes_for_the_address
AddressTest: test_it_has_a_User_user
-------------------------------------------------
------------------------------------
Processing by UsersController#new_with_address as HTML
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering users/new_with_address.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 6.0ms | Allocations: 4059)
  [1m[35m (221.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 67ms (Views: 61.4ms | ActiveRecord: 0.0ms | Allocations: 12691)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (421.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:25:27.781570', '2019-12-01 22:25:27.781570');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:25:27.781570', '2019-12-01 22:25:27.781570');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:25:27.785166', '2019-12-01 22:25:27.785166');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:25:27.785166', '2019-12-01 22:25:27.785166')[0m
  [1m[36mTruncate Tables (462.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (466.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (464.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:25:27.818750', '2019-12-01 22:25:27.818750');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:25:27.818750', '2019-12-01 22:25:27.818750');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:25:27.821937', '2019-12-01 22:25:27.821937');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:25:27.821937', '2019-12-01 22:25:27.821937')[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:25:27.821425', '2019-12-01 22:25:27.821425');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:25:27.821425', '2019-12-01 22:25:27.821425');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:25:27.825974', '2019-12-01 22:25:27.825974');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:25:27.825974', '2019-12-01 22:25:27.825974')[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:25:27.822309', '2019-12-01 22:25:27.822309');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:25:27.822309', '2019-12-01 22:25:27.822309');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:25:27.826696', '2019-12-01 22:25:27.826696');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:25:27.826696', '2019-12-01 22:25:27.826696')[0m
  [1m[35m (196.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (189.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (233.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
------------------------------------
---------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
AddressTest: test_it_has_a_User_user
-------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------
------------------------------------
  [1m[35m (213.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:25:28 -0300
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by UsersController#new_with_address as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:25:28 -0300
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name", "lastname"=>"Lastname", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
  Rendering users/new_with_address.html.erb within layouts/application
No template found for UsersController#create_with_address, rendering head :no_content
Completed 204 No Content in 6ms (ActiveRecord: 0.0ms | Allocations: 1644)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 6.7ms | Allocations: 4060)
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 45ms (Views: 25.0ms | ActiveRecord: 0.0ms | Allocations: 21707)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (415.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:26:37.925628', '2019-12-01 22:26:37.925628');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:26:37.925628', '2019-12-01 22:26:37.925628');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:26:37.929839', '2019-12-01 22:26:37.929839');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:26:37.929839', '2019-12-01 22:26:37.929839')[0m
  [1m[36mTruncate Tables (463.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:26:37.961954', '2019-12-01 22:26:37.961954');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:26:37.961954', '2019-12-01 22:26:37.961954');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:26:37.964426', '2019-12-01 22:26:37.964426');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:26:37.964426', '2019-12-01 22:26:37.964426')[0m
  [1m[36mTruncate Tables (510.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:26:38.002015', '2019-12-01 22:26:38.002015');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:26:38.002015', '2019-12-01 22:26:38.002015');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:26:38.003673', '2019-12-01 22:26:38.003673');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:26:38.003673', '2019-12-01 22:26:38.003673')[0m
  [1m[36mTruncate Tables (552.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:26:38.055732', '2019-12-01 22:26:38.055732');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:26:38.055732', '2019-12-01 22:26:38.055732');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:26:38.059959', '2019-12-01 22:26:38.059959');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:26:38.059959', '2019-12-01 22:26:38.059959')[0m
  [1m[35m (377.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (346.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (308.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
----------------------------------------
-------------------------------------------------
-------------------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:26:38 -0300
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:26:38 -0300
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name", "lastname"=>"Lastname", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
Processing by UsersController#new_with_address as HTML
No template found for UsersController#create_with_address, rendering head :no_content
Completed 204 No Content in 5ms (ActiveRecord: 0.0ms | Allocations: 1644)
  [1m[35m (316.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 298486374], ["LIMIT", 1]]
  Rendering users/new_with_address.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 5.7ms | Allocations: 4057)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 27.6ms | ActiveRecord: 0.0ms | Allocations: 12731)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (403.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (434.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (437.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:26:49.107657', '2019-12-01 22:26:49.107657');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:26:49.107657', '2019-12-01 22:26:49.107657');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:26:49.113398', '2019-12-01 22:26:49.113398');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:26:49.113398', '2019-12-01 22:26:49.113398')[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:26:49.119386', '2019-12-01 22:26:49.119386');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:26:49.119386', '2019-12-01 22:26:49.119386');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:26:49.120780', '2019-12-01 22:26:49.120780');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:26:49.120780', '2019-12-01 22:26:49.120780')[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:26:49.119409', '2019-12-01 22:26:49.119409');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:26:49.119409', '2019-12-01 22:26:49.119409');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:26:49.120780', '2019-12-01 22:26:49.120780');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:26:49.120780', '2019-12-01 22:26:49.120780')[0m
  [1m[36mTruncate Tables (405.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:26:49.137408', '2019-12-01 22:26:49.137408');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:26:49.137408', '2019-12-01 22:26:49.137408');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:26:49.138706', '2019-12-01 22:26:49.138706');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:26:49.138706', '2019-12-01 22:26:49.138706')[0m
  [1m[35m (213.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (220.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (213.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
----------------------------------------
-------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------
UserTest: test_it_has_an_Address_address
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
----------------------------------------
---------------------------------------------------------------------------------------------
  [1m[35m (217.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:26:49 -0300
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:26:49 -0300
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by UsersController#new_with_address as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name", "lastname"=>"Lastname", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
No template found for UsersController#create_with_address, rendering head :no_content
Completed 204 No Content in 7ms (ActiveRecord: 0.0ms | Allocations: 1644)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering users/new_with_address.html.erb within layouts/application
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 6.4ms | Allocations: 4060)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 27.7ms | ActiveRecord: 0.0ms | Allocations: 21747)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (391.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:27:12.162420', '2019-12-01 22:27:12.162420');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:27:12.162420', '2019-12-01 22:27:12.162420');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:27:12.167760', '2019-12-01 22:27:12.167760');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:27:12.167760', '2019-12-01 22:27:12.167760')[0m
  [1m[36mTruncate Tables (463.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (461.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (465.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:27:12.229951', '2019-12-01 22:27:12.229951');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:27:12.229951', '2019-12-01 22:27:12.229951');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:27:12.232777', '2019-12-01 22:27:12.232777');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:27:12.232777', '2019-12-01 22:27:12.232777')[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:27:12.229505', '2019-12-01 22:27:12.229505');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:27:12.229505', '2019-12-01 22:27:12.229505');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:27:12.232576', '2019-12-01 22:27:12.232576');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:27:12.232576', '2019-12-01 22:27:12.232576')[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:27:12.229610', '2019-12-01 22:27:12.229610');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:27:12.229610', '2019-12-01 22:27:12.229610');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:27:12.232581', '2019-12-01 22:27:12.232581');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:27:12.232581', '2019-12-01 22:27:12.232581')[0m
  [1m[35m (152.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:27:12 -0300
Processing by UsersController#new_with_address as HTML
  Rendering users/new_with_address.html.erb within layouts/application
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 4.8ms | Allocations: 4056)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 22.0ms | ActiveRecord: 0.0ms | Allocations: 12377)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:27:12 -0300
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name", "lastname"=>"Lastname", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
No template found for UsersController#create_with_address, rendering head :no_content
Completed 204 No Content in 2ms (ActiveRecord: 0.0ms | Allocations: 1521)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (206.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (206.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (206.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (506.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:28:04.962226', '2019-12-01 22:28:04.962226');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:28:04.962226', '2019-12-01 22:28:04.962226');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:28:04.963383', '2019-12-01 22:28:04.963383');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:28:04.963383', '2019-12-01 22:28:04.963383')[0m
  [1m[36mTruncate Tables (671.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (670.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (667.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:28:05.129623', '2019-12-01 22:28:05.129623');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:28:05.129623', '2019-12-01 22:28:05.129623');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:28:05.130980', '2019-12-01 22:28:05.130980');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:28:05.130980', '2019-12-01 22:28:05.130980')[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:28:05.130879', '2019-12-01 22:28:05.130879');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:28:05.130879', '2019-12-01 22:28:05.130879');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:28:05.132909', '2019-12-01 22:28:05.132909');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:28:05.132909', '2019-12-01 22:28:05.132909')[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:28:05.130879', '2019-12-01 22:28:05.130879');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:28:05.130879', '2019-12-01 22:28:05.130879');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:28:05.132909', '2019-12-01 22:28:05.132909');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:28:05.132909', '2019-12-01 22:28:05.132909')[0m
  [1m[35m (244.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:28:05 -0300
Processing by UsersController#new_with_address as HTML
  Rendering users/new_with_address.html.erb within layouts/application
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 4.5ms | Allocations: 4060)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 57ms (Views: 39.9ms | ActiveRecord: 0.0ms | Allocations: 21788)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (191.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (194.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (191.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
----------------------------------------
-------------------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:28:05 -0300
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name", "lastname"=>"Lastname", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
No template found for UsersController#create_with_address, rendering head :no_content
Completed 204 No Content in 6ms (ActiveRecord: 0.0ms | Allocations: 1644)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (432.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTruncate Tables (466.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (468.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:28:52.536950', '2019-12-01 22:28:52.536950');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:28:52.536950', '2019-12-01 22:28:52.536950');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:28:52.541235', '2019-12-01 22:28:52.541235');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:28:52.541235', '2019-12-01 22:28:52.541235')[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (471.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:28:52.566372', '2019-12-01 22:28:52.566372');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:28:52.566372', '2019-12-01 22:28:52.566372');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:28:52.569599', '2019-12-01 22:28:52.569599');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:28:52.569599', '2019-12-01 22:28:52.569599')[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:28:52.568485', '2019-12-01 22:28:52.568485');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:28:52.568485', '2019-12-01 22:28:52.568485');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:28:52.573254', '2019-12-01 22:28:52.573254');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:28:52.573254', '2019-12-01 22:28:52.573254')[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users";
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:28:52.569640', '2019-12-01 22:28:52.569640');
INSERT INTO "addresses" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:28:52.569640', '2019-12-01 22:28:52.569640');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (980190962, '2019-12-01 22:28:52.574228', '2019-12-01 22:28:52.574228');
INSERT INTO "users" ("id", "created_at", "updated_at") VALUES (298486374, '2019-12-01 22:28:52.574228', '2019-12-01 22:28:52.574228')[0m
  [1m[35m (191.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (235.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:28:52 -0300
  [1m[35m (270.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (271.4ms)[0m  [1m[36mcommit transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name", "lastname"=>"Lastname", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
No template found for UsersController#create_with_address, rendering head :no_content
Completed 204 No Content in 7ms (ActiveRecord: 0.0ms | Allocations: 1644)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:28:52 -0300
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 298486374], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by UsersController#new_with_address as HTML
  Rendering users/new_with_address.html.erb within layouts/application
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4060)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 21.8ms | ActiveRecord: 0.0ms | Allocations: 21807)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (360.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mTruncate Tables (440.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (443.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (439.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (229.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:29:19 -0300
Processing by UsersController#new_with_address as HTML
  Rendering users/new_with_address.html.erb within layouts/application
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 4.2ms | Allocations: 4055)
  [1m[35m (255.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (255.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (254.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
AddressTest: test_it_has_a_User_user
------------------------------------
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 23.1ms | ActiveRecord: 0.0ms | Allocations: 12399)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:29:19 -0300
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name", "lastname"=>"Lastname", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
No template found for UsersController#create_with_address, rendering head :no_content
Completed 204 No Content in 2ms (ActiveRecord: 0.0ms | Allocations: 1521)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (550.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mTruncate Tables (603.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (597.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mTruncate Tables (683.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (282.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (282.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (331.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:30:25 -0300
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:30:25 -0300
  [1m[35m (230.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name", "lastname"=>"Lastname", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by UsersController#new_with_address as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
No template found for UsersController#create_with_address, rendering head :no_content
Completed 204 No Content in 7ms (ActiveRecord: 0.0ms | Allocations: 1644)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering users/new_with_address.html.erb within layouts/application
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 7.7ms | Allocations: 4062)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 24.5ms | ActiveRecord: 1.0ms | Allocations: 23221)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (413.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mTruncate Tables (499.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (495.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (498.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (230.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:32:07 -0300
Processing by UsersController#new_with_address as HTML
  Rendering users/new_with_address.html.erb within layouts/application
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 4.6ms | Allocations: 4062)
  [1m[35m (220.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 23.1ms | ActiveRecord: 0.9ms | Allocations: 23241)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:32:07 -0300
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name", "lastname"=>"Lastname", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:32:07.746990"], ["updated_at", "2019-12-01 22:32:07.746990"]]
  [1m[36mAddress Create (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "floor", "department", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake Street"], ["number", "123"], ["floor", "0"], ["department", "2"], ["created_at", "2019-12-01 22:32:07.748986"], ["updated_at", "2019-12-01 22:32:07.748986"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for UsersController#create_with_address, rendering head :no_content
Completed 204 No Content in 21ms (ActiveRecord: 0.9ms | Allocations: 13131)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (305.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (304.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (403.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (399.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[36mTruncate Tables (405.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (400.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (149.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:39:10 -0300
  [1m[35m (209.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (210.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (205.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-----------------------------------------------------------------------------------------------
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name", "lastname"=>"Lastname", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:39:10 -0300
Processing by UsersController#new_with_address as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:39:10.673896"], ["updated_at", "2019-12-01 22:39:10.673896"]]
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "floor", "department", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake Street"], ["number", "123"], ["floor", "0"], ["department", "2"], ["created_at", "2019-12-01 22:39:10.676997"], ["updated_at", "2019-12-01 22:39:10.676997"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for UsersController#create_with_address, rendering head :no_content
Completed 204 No Content in 31ms (ActiveRecord: 1.7ms | Allocations: 13138)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:39:10.698736"], ["updated_at", "2019-12-01 22:39:10.698736"]]
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:39:10.701485"], ["updated_at", "2019-12-01 22:39:10.701485"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:39:10.709756"], ["updated_at", "2019-12-01 22:39:10.709756"]]
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:39:10.712113"], ["updated_at", "2019-12-01 22:39:10.712113"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  Rendering users/new_with_address.html.erb within layouts/application
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4062)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 77ms (Views: 25.5ms | ActiveRecord: 1.2ms | Allocations: 23297)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (468.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (470.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mTruncate Tables (514.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (516.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (193.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
  [1m[35m (268.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:40:03 -0300
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-----------------------------------------------------------------------------------------------
Processing by UsersController#new_with_address as HTML
  Rendering users/new_with_address.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:40:03.721445"], ["updated_at", "2019-12-01 22:40:03.721445"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:40:03.723424"], ["updated_at", "2019-12-01 22:40:03.723424"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4054)
  [1m[35m (262.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
  [1m[35m (264.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
Started POST "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 19:40:03 -0300
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 28.1ms | ActiveRecord: 0.0ms | Allocations: 12479)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:40:03.762234"], ["updated_at", "2019-12-01 22:40:03.762234"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:40:03.765045"], ["updated_at", "2019-12-01 22:40:03.765045"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:40:03 -0300
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name", "lastname"=>"Lastname", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
Started GET "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 19:40:03 -0300
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:40:03.795945"], ["updated_at", "2019-12-01 22:40:03.795945"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "floor", "department", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake Street"], ["number", "123"], ["floor", "0"], ["department", "2"], ["created_at", "2019-12-01 22:40:03.798324"], ["updated_at", "2019-12-01 22:40:03.798324"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for UsersController#create_with_address, rendering head :no_content
Completed 204 No Content in 20ms (ActiveRecord: 1.1ms | Allocations: 13132)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (450.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mTruncate Tables (557.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (559.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (556.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (189.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:40:24 -0300
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name", "lastname"=>"Lastname", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:40:24.486022"], ["updated_at", "2019-12-01 22:40:24.486022"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "floor", "department", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake Street"], ["number", "123"], ["floor", "0"], ["department", "2"], ["created_at", "2019-12-01 22:40:24.487746"], ["updated_at", "2019-12-01 22:40:24.487746"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for UsersController#create_with_address, rendering head :no_content
Completed 204 No Content in 8ms (ActiveRecord: 0.6ms | Allocations: 3391)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:40:24.495116"], ["updated_at", "2019-12-01 22:40:24.495116"]]
  [1m[36mAddress Create (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:40:24.496341"], ["updated_at", "2019-12-01 22:40:24.496341"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 19:40:24 -0300
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (202.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (201.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (204.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
-------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:40:24.569711"], ["updated_at", "2019-12-01 22:40:24.569711"]]
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:40:24.572589"], ["updated_at", "2019-12-01 22:40:24.572589"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:40:24 -0300
Processing by UsersController#new_with_address as HTML
Started PATCH "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 19:40:24 -0300
  Rendering users/new_with_address.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 5.0ms | Allocations: 4061)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 18.9ms | ActiveRecord: 0.7ms | Allocations: 23307)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (528.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mTruncate Tables (567.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (563.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (562.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (192.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:41:24 -0300
Processing by UsersController#new_with_address as HTML
  [1m[35m (216.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (219.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (216.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:41:24 -0300
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name", "lastname"=>"Lastname", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
  Rendering users/new_with_address.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:41:24.960451"], ["updated_at", "2019-12-01 22:41:24.960451"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:41:24.963617"], ["updated_at", "2019-12-01 22:41:24.963617"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 19:41:24 -0300
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 7.6ms | Allocations: 4062)
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:41:24.967232"], ["updated_at", "2019-12-01 22:41:24.967232"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:41:24.969320"], ["updated_at", "2019-12-01 22:41:24.969320"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 19:41:24 -0300
Processing by UsersController#edit_with_address as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:41:24.977737"], ["updated_at", "2019-12-01 22:41:24.977737"]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "floor", "department", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake Street"], ["number", "123"], ["floor", "0"], ["department", "2"], ["created_at", "2019-12-01 22:41:24.980544"], ["updated_at", "2019-12-01 22:41:24.980544"]]
Processing by UsersController#update_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name2", "lastname"=>"Lastname2", "email"=>"email2@test.com", "address_attributes"=>{"street"=>"Fake Street2", "number"=>"111", "floor"=>"1", "department"=>"3"}}, "id"=>"980190963"}
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
No template found for UsersController#create_with_address, rendering head :no_content
Completed 204 No Content in 61ms (ActiveRecord: 1.3ms | Allocations: 13169)
Completed 406 Not Acceptable in 9ms (ActiveRecord: 0.4ms | Allocations: 2437)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 86ms (Views: 26.8ms | ActiveRecord: 1.3ms | Allocations: 23359)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
-------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 422 Unprocessable Entity in 12ms (ActiveRecord: 0.3ms | Allocations: 3132)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (430.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mTruncate Tables (468.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (470.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (466.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (189.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-----------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:44:04.959735"], ["updated_at", "2019-12-01 22:44:04.959735"]]
  [1m[36mAddress Create (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:44:04.961924"], ["updated_at", "2019-12-01 22:44:04.961924"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 19:44:04 -0300
Processing by UsersController#update_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name2", "lastname"=>"Lastname2", "email"=>"email2@test.com", "address_attributes"=>{"street"=>"Fake Street2", "number"=>"111", "floor"=>"1", "department"=>"3"}}, "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "lastname" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Name2"], ["lastname", "Lastname2"], ["email", "email2@test.com"], ["updated_at", "2019-12-01 22:44:04.977006"], ["id", 980190963]]
  [1m[36mAddress Update (0.1ms)[0m  [1m[33mUPDATE "addresses" SET "street" = ?, "number" = ?, "floor" = ?, "department" = ?, "updated_at" = ? WHERE "addresses"."id" = ?[0m  [["street", "Fake Street2"], ["number", "111"], ["floor", "1"], ["department", "3"], ["updated_at", "2019-12-01 22:44:04.978327"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for UsersController#update_with_address, rendering head :no_content
Completed 204 No Content in 10ms (ActiveRecord: 0.5ms | Allocations: 3684)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.0ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:44:04.985268"], ["updated_at", "2019-12-01 22:44:04.985268"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:44:04.986675"], ["updated_at", "2019-12-01 22:44:04.986675"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 19:44:04 -0300
Processing by UsersController#edit_with_address as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (256.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  [1m[35m (257.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
Completed 406 Not Acceptable in 3ms (ActiveRecord: 0.1ms | Allocations: 1950)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (263.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:44:05 -0300
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:44:05 -0300
Processing by UsersController#new_with_address as HTML
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name", "lastname"=>"Lastname", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:44:05.042923"], ["updated_at", "2019-12-01 22:44:05.042923"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "floor", "department", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake Street"], ["number", "123"], ["floor", "0"], ["department", "2"], ["created_at", "2019-12-01 22:44:05.045623"], ["updated_at", "2019-12-01 22:44:05.045623"]]
  Rendering users/new_with_address.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for UsersController#create_with_address, rendering head :no_content
Completed 204 No Content in 29ms (ActiveRecord: 1.3ms | Allocations: 13129)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 5.9ms | Allocations: 4062)
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 26.7ms | ActiveRecord: 1.0ms | Allocations: 23342)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (432.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mTruncate Tables (539.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (537.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (535.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (192.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:45:39.583550"], ["updated_at", "2019-12-01 22:45:39.583550"]]
  [1m[36mAddress Create (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:45:39.585872"], ["updated_at", "2019-12-01 22:45:39.585872"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 19:45:39 -0300
Processing by UsersController#edit_with_address as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  Rendering users/edit_with_address.html.erb within layouts/application
  Rendered users/_form_fields_with_address.html.erb (Duration: 0.1ms | Allocations: 79)
  Rendered users/edit_with_address.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1961)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 20.7ms | ActiveRecord: 0.2ms | Allocations: 10959)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:45:39 -0300
Processing by UsersController#new_with_address as HTML
  Rendering users/new_with_address.html.erb within layouts/application
  Rendered users/_form_fields_with_address.html.erb (Duration: 0.0ms | Allocations: 6)
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 0.9ms | Allocations: 498)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms | Allocations: 2895)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (211.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (216.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (212.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------
----------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
UserTest: test_it_has_an_Address_address
-----------------------------------------------------------------------------------------------
----------------------------------------
---------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:45:39 -0300
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name", "lastname"=>"Lastname", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:45:39.682305"], ["updated_at", "2019-12-01 22:45:39.682305"]]
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:45:39.684790"], ["updated_at", "2019-12-01 22:45:39.684790"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 19:45:39 -0300
Processing by UsersController#update_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name2", "lastname"=>"Lastname2", "email"=>"email2@test.com", "address_attributes"=>{"street"=>"Fake Street2", "number"=>"111", "floor"=>"1", "department"=>"3"}}, "id"=>"980190963"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:45:39.695265"], ["updated_at", "2019-12-01 22:45:39.695265"]]
  [1m[36mAddress Create (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "floor", "department", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake Street"], ["number", "123"], ["floor", "0"], ["department", "2"], ["created_at", "2019-12-01 22:45:39.697712"], ["updated_at", "2019-12-01 22:45:39.697712"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for UsersController#create_with_address, rendering head :no_content
Completed 204 No Content in 22ms (ActiveRecord: 1.2ms | Allocations: 13129)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "lastname" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Name2"], ["lastname", "Lastname2"], ["email", "email2@test.com"], ["updated_at", "2019-12-01 22:45:39.702126"], ["id", 980190963]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mAddress Update (0.1ms)[0m  [1m[33mUPDATE "addresses" SET "street" = ?, "number" = ?, "floor" = ?, "department" = ?, "updated_at" = ? WHERE "addresses"."id" = ?[0m  [["street", "Fake Street2"], ["number", "111"], ["floor", "1"], ["department", "3"], ["updated_at", "2019-12-01 22:45:39.703459"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for UsersController#update_with_address, rendering head :no_content
Completed 204 No Content in 11ms (ActiveRecord: 0.6ms | Allocations: 3685)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (407.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mTruncate Tables (475.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (477.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (472.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (198.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:46:02.203454"], ["updated_at", "2019-12-01 22:46:02.203454"]]
  [1m[36mAddress Create (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:46:02.205280"], ["updated_at", "2019-12-01 22:46:02.205280"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 19:46:02 -0300
Processing by UsersController#edit_with_address as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (218.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (219.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
  [1m[35m (222.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  Rendering users/edit_with_address.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:46:02 -0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:46:02 -0300
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by UsersController#new_with_address as HTML
  Rendered users/_form_fields_with_address.html.erb (Duration: 16.7ms | Allocations: 3684)
  Rendered users/edit_with_address.html.erb within layouts/application (Duration: 18.7ms | Allocations: 4586)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 42.3ms | ActiveRecord: 0.3ms | Allocations: 13600)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-----------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:46:02.269500"], ["updated_at", "2019-12-01 22:46:02.269500"]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:46:02.271333"], ["updated_at", "2019-12-01 22:46:02.271333"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started PATCH "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 19:46:02 -0300
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name", "lastname"=>"Lastname", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
Processing by UsersController#update_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name2", "lastname"=>"Lastname2", "email"=>"email2@test.com", "address_attributes"=>{"street"=>"Fake Street2", "number"=>"111", "floor"=>"1", "department"=>"3"}}, "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "lastname" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Name2"], ["lastname", "Lastname2"], ["email", "email2@test.com"], ["updated_at", "2019-12-01 22:46:02.280076"], ["id", 980190963]]
  [1m[36mAddress Update (0.1ms)[0m  [1m[33mUPDATE "addresses" SET "street" = ?, "number" = ?, "floor" = ?, "department" = ?, "updated_at" = ? WHERE "addresses"."id" = ?[0m  [["street", "Fake Street2"], ["number", "111"], ["floor", "1"], ["department", "3"], ["updated_at", "2019-12-01 22:46:02.281994"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for UsersController#update_with_address, rendering head :no_content
Completed 204 No Content in 8ms (ActiveRecord: 0.6ms | Allocations: 3216)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  Rendering users/new_with_address.html.erb within layouts/application
  Rendered users/_form_fields_with_address.html.erb (Duration: 6.5ms | Allocations: 3466)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 9.8ms | Allocations: 4340)
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:46:02.298266"], ["updated_at", "2019-12-01 22:46:02.298266"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "floor", "department", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake Street"], ["number", "123"], ["floor", "0"], ["department", "2"], ["created_at", "2019-12-01 22:46:02.300344"], ["updated_at", "2019-12-01 22:46:02.300344"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for UsersController#create_with_address, rendering head :no_content
Completed 204 No Content in 27ms (ActiveRecord: 1.3ms | Allocations: 13136)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 87ms (Views: 33.6ms | ActiveRecord: 1.1ms | Allocations: 23693)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (436.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mTruncate Tables (505.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (512.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (508.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (226.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (291.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (223.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
------------------------------------
-------------------------------------------------
AddressTest: test_it_has_a_User_user
AddressTest: test_it_adds_attributes_for_the_user
------------------------------------
-------------------------------------------------
  [1m[35m (251.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-----------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:47:01.628154"], ["updated_at", "2019-12-01 22:47:01.628154"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:47:01.631208"], ["updated_at", "2019-12-01 22:47:01.631208"]]
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:47:01 -0300
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started PATCH "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 19:47:01 -0300
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:47:01.635407"], ["updated_at", "2019-12-01 22:47:01.635407"]]
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name", "lastname"=>"Lastname", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:47:01.638378"], ["updated_at", "2019-12-01 22:47:01.638378"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 19:47:01 -0300
Processing by UsersController#update_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name2", "lastname"=>"Lastname2", "email"=>"email2@test.com", "address_attributes"=>{"street"=>"Fake Street2", "number"=>"111", "floor"=>"1", "department"=>"3"}}, "id"=>"980190963"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:47:01.645815"], ["updated_at", "2019-12-01 22:47:01.645815"]]
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:47:01 -0300
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "floor", "department", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake Street"], ["number", "123"], ["floor", "0"], ["department", "2"], ["created_at", "2019-12-01 22:47:01.648435"], ["updated_at", "2019-12-01 22:47:01.648435"]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "lastname" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Name2"], ["lastname", "Lastname2"], ["email", "email2@test.com"], ["updated_at", "2019-12-01 22:47:01.649355"], ["id", 980190963]]
Processing by UsersController#edit_with_address as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mAddress Update (0.1ms)[0m  [1m[33mUPDATE "addresses" SET "street" = ?, "number" = ?, "floor" = ?, "department" = ?, "updated_at" = ? WHERE "addresses"."id" = ?[0m  [["street", "Fake Street2"], ["number", "111"], ["floor", "1"], ["department", "3"], ["updated_at", "2019-12-01 22:47:01.650871"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for UsersController#create_with_address, rendering head :no_content
Completed 204 No Content in 14ms (ActiveRecord: 0.7ms | Allocations: 3790)
No template found for UsersController#update_with_address, rendering head :no_content
Completed 204 No Content in 11ms (ActiveRecord: 0.7ms | Allocations: 3685)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#new_with_address as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  Rendering users/edit_with_address.html.erb within layouts/application
  Rendering users/new_with_address.html.erb within layouts/application
  Rendered users/_form_fields_with_address.html.erb (Duration: 4.2ms | Allocations: 3511)
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 6.6ms | Allocations: 4382)
  Rendered users/_form_fields_with_address.html.erb (Duration: 6.8ms | Allocations: 3660)
  Rendered users/edit_with_address.html.erb within layouts/application (Duration: 10.2ms | Allocations: 4562)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 32.6ms | ActiveRecord: 0.0ms | Allocations: 12946)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 65ms (Views: 58.0ms | ActiveRecord: 0.3ms | Allocations: 13620)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (372.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (374.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (368.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (369.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (169.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:54:41 -0300
Processing by UsersController#new_with_address as HTML
  [1m[35m (212.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-----------------------------------------------------------------------------------------------
  Rendering users/new_with_address.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:54:41.165611"], ["updated_at", "2019-12-01 22:54:41.165611"]]
  Rendered users/_form_fields_with_address.html.erb (Duration: 4.0ms | Allocations: 3515)
  [1m[36mAddress Create (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:54:41.167490"], ["updated_at", "2019-12-01 22:54:41.167490"]]
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 5.7ms | Allocations: 4389)
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 19:54:41 -0300
Processing by UsersController#update_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name2", "lastname"=>"Lastname2", "email"=>"email2@test.com", "address_attributes"=>{"street"=>"Fake Street2", "number"=>"111", "floor"=>"1", "department"=>"3"}}, "id"=>"980190963"}
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 44ms (Views: 24.5ms | ActiveRecord: 1.0ms | Allocations: 23789)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "lastname" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Name2"], ["lastname", "Lastname2"], ["email", "email2@test.com"], ["updated_at", "2019-12-01 22:54:41.187257"], ["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (256.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAddress Update (0.2ms)[0m  [1m[33mUPDATE "addresses" SET "street" = ?, "number" = ?, "floor" = ?, "department" = ?, "updated_at" = ? WHERE "addresses"."id" = ?[0m  [["street", "Fake Street2"], ["number", "111"], ["floor", "1"], ["department", "3"], ["updated_at", "2019-12-01 22:54:41.188648"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
No template found for UsersController#update_with_address, rendering head :no_content
Completed 204 No Content in 13ms (ActiveRecord: 0.6ms | Allocations: 3685)
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:54:41 -0300
  [1m[35m (257.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
UsersControllerTest: test_GET_show_shows_all_the_user_data
----------------------------------------------------------
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name", "lastname"=>"Lastname", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:54:41.196730"], ["updated_at", "2019-12-01 22:54:41.196730"]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "floor", "department", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake Street"], ["number", "123"], ["floor", "0"], ["department", "2"], ["created_at", "2019-12-01 22:54:41.199280"], ["updated_at", "2019-12-01 22:54:41.199280"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
No template found for UsersController#create_with_address, rendering head :no_content
Completed 204 No Content in 7ms (ActiveRecord: 0.6ms | Allocations: 3259)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:54:41.218631"], ["updated_at", "2019-12-01 22:54:41.218631"]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:54:41.221805"], ["updated_at", "2019-12-01 22:54:41.221805"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:54:41.220983"], ["updated_at", "2019-12-01 22:54:41.220983"]]
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:54:41.224610"], ["updated_at", "2019-12-01 22:54:41.224610"]]
Started GET "/users/980190963" for 127.0.0.1 at 2019-12-01 19:54:41 -0300
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 19:54:41 -0300
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
Processing by UsersController#edit_with_address as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  Rendering users/edit_with_address.html.erb within layouts/application
  Rendered users/_form_fields_with_address.html.erb (Duration: 4.8ms | Allocations: 3663)
  Rendered users/edit_with_address.html.erb within layouts/application (Duration: 7.2ms | Allocations: 4565)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 23.9ms | ActiveRecord: 0.3ms | Allocations: 13684)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (417.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (421.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (419.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[36mTruncate Tables (423.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (172.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
UsersControllerTest: test_GET_show_shows_all_the_user_data
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:55:02.696357"], ["updated_at", "2019-12-01 22:55:02.696357"]]
  [1m[35m (227.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:55:02.698767"], ["updated_at", "2019-12-01 22:55:02.698767"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/980190963" for 127.0.0.1 at 2019-12-01 19:55:02 -0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
Completed 406 Not Acceptable in 7ms (ActiveRecord: 0.2ms | Allocations: 2050)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:55:02 -0300
Processing by UsersController#new_with_address as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:55:02.722506"], ["updated_at", "2019-12-01 22:55:02.722506"]]
  Rendering users/new_with_address.html.erb within layouts/application
  [1m[36mAddress Create (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:55:02.724423"], ["updated_at", "2019-12-01 22:55:02.724423"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 19:55:02 -0300
  Rendered users/_form_fields_with_address.html.erb (Duration: 4.4ms | Allocations: 3510)
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 6.8ms | Allocations: 4377)
Processing by UsersController#edit_with_address as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (266.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (269.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
----------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
UserTest: test_it_has_an_Address_address
-------------------------------------------------
----------------------------------------
  Rendering users/edit_with_address.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 27.5ms | ActiveRecord: 0.0ms | Allocations: 12897)
  Rendered users/_form_fields_with_address.html.erb (Duration: 5.7ms | Allocations: 3663)
  Rendered users/edit_with_address.html.erb within layouts/application (Duration: 8.9ms | Allocations: 4565)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-----------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:55:02.755485"], ["updated_at", "2019-12-01 22:55:02.755485"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:55:02.757286"], ["updated_at", "2019-12-01 22:55:02.757286"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 19:55:02 -0300
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by UsersController#update_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name2", "lastname"=>"Lastname2", "email"=>"email2@test.com", "address_attributes"=>{"street"=>"Fake Street2", "number"=>"111", "floor"=>"1", "department"=>"3"}}, "id"=>"980190963"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
Completed 200 OK in 35ms (Views: 28.1ms | ActiveRecord: 0.2ms | Allocations: 13724)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "lastname" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Name2"], ["lastname", "Lastname2"], ["email", "email2@test.com"], ["updated_at", "2019-12-01 22:55:02.768750"], ["id", 980190963]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mAddress Update (0.2ms)[0m  [1m[33mUPDATE "addresses" SET "street" = ?, "number" = ?, "floor" = ?, "department" = ?, "updated_at" = ? WHERE "addresses"."id" = ?[0m  [["street", "Fake Street2"], ["number", "111"], ["floor", "1"], ["department", "3"], ["updated_at", "2019-12-01 22:55:02.771336"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for UsersController#update_with_address, rendering head :no_content
Completed 204 No Content in 11ms (ActiveRecord: 1.0ms | Allocations: 3368)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:55:02 -0300
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name", "lastname"=>"Lastname", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:55:02.799290"], ["updated_at", "2019-12-01 22:55:02.799290"]]
  [1m[36mAddress Create (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "floor", "department", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake Street"], ["number", "123"], ["floor", "0"], ["department", "2"], ["created_at", "2019-12-01 22:55:02.801629"], ["updated_at", "2019-12-01 22:55:02.801629"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for UsersController#create_with_address, rendering head :no_content
Completed 204 No Content in 13ms (ActiveRecord: 0.6ms | Allocations: 3790)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (451.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (457.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (478.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (481.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (212.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:58:35 -0300
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name", "lastname"=>"Lastname", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:58:35.959768"], ["updated_at", "2019-12-01 22:58:35.959768"]]
  [1m[36mAddress Create (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "floor", "department", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake Street"], ["number", "123"], ["floor", "0"], ["department", "2"], ["created_at", "2019-12-01 22:58:35.961627"], ["updated_at", "2019-12-01 22:58:35.961627"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for UsersController#create_with_address, rendering head :no_content
Completed 204 No Content in 9ms (ActiveRecord: 0.5ms | Allocations: 3376)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[35m (275.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (272.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (266.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:58:35.970476"], ["updated_at", "2019-12-01 22:58:35.970476"]]
  [1m[36mAddress Create (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:58:35.971855"], ["updated_at", "2019-12-01 22:58:35.971855"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 19:58:35 -0300
Processing by UsersController#edit_with_address as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  Rendering users/edit_with_address.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendered users/_form_fields_with_address.html.erb (Duration: 4.0ms | Allocations: 3655)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
UsersControllerTest: test_GET_show_shows_all_the_user_data
----------------------------------------------------------
  Rendered users/edit_with_address.html.erb within layouts/application (Duration: 5.8ms | Allocations: 4557)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:58:35.994184"], ["updated_at", "2019-12-01 22:58:35.994184"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:58:35.996796"], ["updated_at", "2019-12-01 22:58:35.996796"]]
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:58:35 -0300
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/users/980190963" for 127.0.0.1 at 2019-12-01 19:58:36 -0300
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:58:35.998296"], ["updated_at", "2019-12-01 22:58:35.998296"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:58:36.001377"], ["updated_at", "2019-12-01 22:58:36.001377"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 19:58:36 -0300
Processing by UsersController#new_with_address as HTML
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 35.6ms | ActiveRecord: 0.2ms | Allocations: 13394)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Processing by UsersController#update_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name2", "lastname"=>"Lastname2", "email"=>"email2@test.com", "address_attributes"=>{"street"=>"Fake Street2", "number"=>"111", "floor"=>"1", "department"=>"3"}}, "id"=>"980190963"}
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  Rendering users/new_with_address.html.erb within layouts/application
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (Duration: 6.6ms | Allocations: 2812)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.3ms | Allocations: 4914)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  Rendered users/_form_fields_with_address.html.erb (Duration: 5.3ms | Allocations: 3515)
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 7.8ms | Allocations: 4389)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "lastname" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Name2"], ["lastname", "Lastname2"], ["email", "email2@test.com"], ["updated_at", "2019-12-01 22:58:36.024812"], ["id", 980190963]]
  [1m[36mAddress Update (0.2ms)[0m  [1m[33mUPDATE "addresses" SET "street" = ?, "number" = ?, "floor" = ?, "department" = ?, "updated_at" = ? WHERE "addresses"."id" = ?[0m  [["street", "Fake Street2"], ["number", "111"], ["floor", "1"], ["department", "3"], ["updated_at", "2019-12-01 22:58:36.026904"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for UsersController#update_with_address, rendering head :no_content
Completed 204 No Content in 15ms (ActiveRecord: 0.8ms | Allocations: 3684)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 26.6ms | ActiveRecord: 0.0ms | Allocations: 13539)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (445.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (448.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (452.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[36mTruncate Tables (475.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (159.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (205.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-----------------------------------------------------------------------------------------------
  [1m[35m (235.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (243.3ms)[0m  [1m[36mcommit transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:59:24.249722"], ["updated_at", "2019-12-01 22:59:24.249722"]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:59:24.251964"], ["updated_at", "2019-12-01 22:59:24.251964"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
Started PATCH "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 19:59:24 -0300
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Processing by UsersController#update_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name2", "lastname"=>"Lastname2", "email"=>"email2@test.com", "address_attributes"=>{"street"=>"Fake Street2", "number"=>"111", "floor"=>"1", "department"=>"3"}}, "id"=>"980190963"}
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:59:24 -0300
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "lastname" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Name2"], ["lastname", "Lastname2"], ["email", "email2@test.com"], ["updated_at", "2019-12-01 22:59:24.267735"], ["id", 980190963]]
  [1m[36mAddress Update (0.2ms)[0m  [1m[33mUPDATE "addresses" SET "street" = ?, "number" = ?, "floor" = ?, "department" = ?, "updated_at" = ? WHERE "addresses"."id" = ?[0m  [["street", "Fake Street2"], ["number", "111"], ["floor", "1"], ["department", "3"], ["updated_at", "2019-12-01 22:59:24.269317"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name", "lastname"=>"Lastname", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
No template found for UsersController#update_with_address, rendering head :no_content
Completed 204 No Content in 11ms (ActiveRecord: 0.7ms | Allocations: 3685)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:59:24.278782"], ["updated_at", "2019-12-01 22:59:24.278782"]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:59:24.279121"], ["updated_at", "2019-12-01 22:59:24.279121"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:59:24.281204"], ["updated_at", "2019-12-01 22:59:24.281204"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "floor", "department", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake Street"], ["number", "123"], ["floor", "0"], ["department", "2"], ["created_at", "2019-12-01 22:59:24.282204"], ["updated_at", "2019-12-01 22:59:24.282204"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 19:59:24 -0300
Processing by UsersController#edit_with_address as HTML
  Parameters: {"id"=>"980190963"}
No template found for UsersController#create_with_address, rendering head :no_content
Completed 204 No Content in 15ms (ActiveRecord: 0.7ms | Allocations: 3791)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  Rendering users/edit_with_address.html.erb within layouts/application
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 19:59:24 -0300
----------------------------------------------------------
UsersControllerTest: test_GET_show_shows_all_the_user_data
----------------------------------------------------------
Processing by UsersController#new_with_address as HTML
  Rendered users/_form_fields_with_address.html.erb (Duration: 6.3ms | Allocations: 3655)
  Rendered users/edit_with_address.html.erb within layouts/application (Duration: 9.1ms | Allocations: 4557)
  Rendering users/new_with_address.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 22:59:24.304037"], ["updated_at", "2019-12-01 22:59:24.304037"]]
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 22:59:24.307116"], ["updated_at", "2019-12-01 22:59:24.307116"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/980190963" for 127.0.0.1 at 2019-12-01 19:59:24 -0300
  Rendered users/_form_fields_with_address.html.erb (Duration: 6.8ms | Allocations: 3505)
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 10.1ms | Allocations: 4374)
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 37.5ms | ActiveRecord: 0.2ms | Allocations: 13316)
  Rendering users/show.html.erb within layouts/application
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (Duration: 2.1ms | Allocations: 686)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 33.4ms | ActiveRecord: 0.0ms | Allocations: 12984)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 22.1ms | ActiveRecord: 0.5ms | Allocations: 9559)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (430.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (432.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (435.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[36mTruncate Tables (435.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (331.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (326.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (320.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (326.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------
----------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
UsersControllerTest: test_GET_show_shows_all_the_user_data
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-----------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 20:00:20 -0300
Processing by UsersController#new_with_address as HTML
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 23:00:20.613740"], ["updated_at", "2019-12-01 23:00:20.613740"]]
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 23:00:20.647620"], ["updated_at", "2019-12-01 23:00:20.647620"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 20:00:20 -0300
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 23:00:20.613740"], ["updated_at", "2019-12-01 23:00:20.613740"]]
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 23:00:20.654286"], ["updated_at", "2019-12-01 23:00:20.654286"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 20:00:20 -0300
Processing by UsersController#edit_with_address as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 23:00:20.623887"], ["updated_at", "2019-12-01 23:00:20.623887"]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 23:00:20.664472"], ["updated_at", "2019-12-01 23:00:20.664472"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
Started GET "/users/980190963" for 127.0.0.1 at 2019-12-01 20:00:20 -0300
Processing by UsersController#update_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name2", "lastname"=>"Lastname2", "email"=>"email2@test.com", "address_attributes"=>{"street"=>"Fake Street2", "number"=>"111", "floor"=>"1", "department"=>"3"}}, "id"=>"980190963"}
  Rendering users/edit_with_address.html.erb within layouts/application
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  Rendering users/new_with_address.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "lastname" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Name2"], ["lastname", "Lastname2"], ["email", "email2@test.com"], ["updated_at", "2019-12-01 23:00:20.677121"], ["id", 980190963]]
  Rendered users/_form_fields_with_address.html.erb (Duration: 5.7ms | Allocations: 3663)
  [1m[36mAddress Update (0.1ms)[0m  [1m[33mUPDATE "addresses" SET "street" = ?, "number" = ?, "floor" = ?, "department" = ?, "updated_at" = ? WHERE "addresses"."id" = ?[0m  [["street", "Fake Street2"], ["number", "111"], ["floor", "1"], ["department", "3"], ["updated_at", "2019-12-01 23:00:20.678462"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendered users/edit_with_address.html.erb within layouts/application (Duration: 9.1ms | Allocations: 4565)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
No template found for UsersController#update_with_address, rendering head :no_content
Completed 204 No Content in 12ms (ActiveRecord: 0.6ms | Allocations: 3685)
  Rendered users/_form_fields_with_address.html.erb (Duration: 4.2ms | Allocations: 3515)
  Rendering users/show.html.erb within layouts/application
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 6.1ms | Allocations: 4389)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  Rendered users/show.html.erb within layouts/application (Duration: 2.3ms | Allocations: 690)
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 20:00:20 -0300
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name", "lastname"=>"Lastname", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 23:00:20.693632"], ["updated_at", "2019-12-01 23:00:20.693632"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "floor", "department", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake Street"], ["number", "123"], ["floor", "0"], ["department", "2"], ["created_at", "2019-12-01 23:00:20.695870"], ["updated_at", "2019-12-01 23:00:20.695870"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
No template found for UsersController#create_with_address, rendering head :no_content
Completed 204 No Content in 8ms (ActiveRecord: 0.7ms | Allocations: 2890)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 34.4ms | ActiveRecord: 0.6ms | Allocations: 13845)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 92ms (Views: 31.9ms | ActiveRecord: 1.4ms | Allocations: 24015)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 35ms (Views: 28.9ms | ActiveRecord: 0.3ms | Allocations: 9603)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (406.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mTruncate Tables (437.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mTruncate Tables (492.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (494.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (234.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
  [1m[35m (268.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-----------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 23:00:41.939570"], ["updated_at", "2019-12-01 23:00:41.939570"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 23:00:41.942108"], ["updated_at", "2019-12-01 23:00:41.942108"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 20:00:41 -0300
Processing by UsersController#edit_with_address as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  Rendering users/edit_with_address.html.erb within layouts/application
  [1m[35m (263.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (263.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
----------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
UsersControllerTest: test_GET_show_shows_all_the_user_data
-------------------------------------------------------------------------------------------------------
----------------------------------------------------------
  Rendered users/_form_fields_with_address.html.erb (Duration: 5.2ms | Allocations: 3660)
  Rendered users/edit_with_address.html.erb within layouts/application (Duration: 7.3ms | Allocations: 4562)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 23:00:41.979225"], ["updated_at", "2019-12-01 23:00:41.979225"]]
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 20:00:41 -0300
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 23:00:41.981569"], ["updated_at", "2019-12-01 23:00:41.981569"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 20:00:41 -0300
Processing by UsersController#new_with_address as HTML
Processing by UsersController#update_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name2", "lastname"=>"Lastname2", "email"=>"email2@test.com", "address_attributes"=>{"street"=>"Fake Street2", "number"=>"111", "floor"=>"1", "department"=>"3"}}, "id"=>"980190963"}
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 30.9ms | ActiveRecord: 0.4ms | Allocations: 13896)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "lastname" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Name2"], ["lastname", "Lastname2"], ["email", "email2@test.com"], ["updated_at", "2019-12-01 23:00:41.998969"], ["id", 980190963]]
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 20:00:42 -0300
  [1m[36mAddress Update (0.1ms)[0m  [1m[33mUPDATE "addresses" SET "street" = ?, "number" = ?, "floor" = ?, "department" = ?, "updated_at" = ? WHERE "addresses"."id" = ?[0m  [["street", "Fake Street2"], ["number", "111"], ["floor", "1"], ["department", "3"], ["updated_at", "2019-12-01 23:00:42.000579"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190963
Completed 302 Found in 10ms (ActiveRecord: 0.6ms | Allocations: 2481)
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name", "lastname"=>"Lastname", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 23:00:42.004516"], ["updated_at", "2019-12-01 23:00:42.004516"]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "floor", "department", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake Street"], ["number", "123"], ["floor", "0"], ["department", "2"], ["created_at", "2019-12-01 23:00:42.006265"], ["updated_at", "2019-12-01 23:00:42.006265"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
Redirected to http://www.example.com/users/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.5ms | Allocations: 1687)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 23:00:42.035817"], ["updated_at", "2019-12-01 23:00:42.035817"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 23:00:42.038813"], ["updated_at", "2019-12-01 23:00:42.038813"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/980190963" for 127.0.0.1 at 2019-12-01 20:00:42 -0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
  Rendering users/new_with_address.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (Duration: 1.5ms | Allocations: 690)
  Rendered users/_form_fields_with_address.html.erb (Duration: 4.4ms | Allocations: 3515)
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 6.7ms | Allocations: 4389)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 20.9ms | ActiveRecord: 0.3ms | Allocations: 9663)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 83ms (Views: 24.9ms | ActiveRecord: 1.6ms | Allocations: 24099)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (425.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mTruncate Tables (526.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (528.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (531.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (224.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 20:01:11 -0300
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name", "lastname"=>"Lastname", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 23:01:11.707886"], ["updated_at", "2019-12-01 23:01:11.707886"]]
  [1m[35m (222.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (223.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (223.4ms)[0m  [1m[36mcommit transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "floor", "department", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake Street"], ["number", "123"], ["floor", "0"], ["department", "2"], ["created_at", "2019-12-01 23:01:11.710013"], ["updated_at", "2019-12-01 23:01:11.710013"]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-----------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190963
Completed 302 Found in 39ms (ActiveRecord: 1.0ms | Allocations: 11930)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 20:01:11 -0300
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
UsersControllerTest: test_GET_show_shows_all_the_user_data
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 23:01:11.722528"], ["updated_at", "2019-12-01 23:01:11.722528"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 23:01:11.724200"], ["updated_at", "2019-12-01 23:01:11.724200"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/980190963" for 127.0.0.1 at 2019-12-01 20:01:11 -0300
Processing by UsersController#new_with_address as HTML
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (Duration: 1.7ms | Allocations: 502)
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 23:01:11.733479"], ["updated_at", "2019-12-01 23:01:11.733479"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 23:01:11.735738"], ["updated_at", "2019-12-01 23:01:11.735738"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 20:01:11 -0300
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 23:01:11.737467"], ["updated_at", "2019-12-01 23:01:11.737467"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 23:01:11.740504"], ["updated_at", "2019-12-01 23:01:11.740504"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 20:01:11 -0300
Processing by UsersController#edit_with_address as HTML
  Parameters: {"id"=>"980190963"}
  Rendering users/new_with_address.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 29.3ms | ActiveRecord: 0.2ms | Allocations: 9382)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by UsersController#update_with_address as HTML
  Rendered users/_form_fields_with_address.html.erb (Duration: 5.9ms | Allocations: 3520)
  Parameters: {"user"=>{"name"=>"Name2", "lastname"=>"Lastname2", "email"=>"email2@test.com", "address_attributes"=>{"street"=>"Fake Street2", "number"=>"111", "floor"=>"1", "department"=>"3"}}, "id"=>"980190963"}
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 41.1ms | Allocations: 4394)
  Rendering users/edit_with_address.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  Rendered users/_form_fields_with_address.html.erb (Duration: 6.7ms | Allocations: 3663)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "lastname" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Name2"], ["lastname", "Lastname2"], ["email", "email2@test.com"], ["updated_at", "2019-12-01 23:01:11.799663"], ["id", 980190963]]
  Rendered users/edit_with_address.html.erb within layouts/application (Duration: 9.3ms | Allocations: 4565)
  [1m[36mAddress Update (0.2ms)[0m  [1m[33mUPDATE "addresses" SET "street" = ?, "number" = ?, "floor" = ?, "department" = ?, "updated_at" = ? WHERE "addresses"."id" = ?[0m  [["street", "Fake Street2"], ["number", "111"], ["floor", "1"], ["department", "3"], ["updated_at", "2019-12-01 23:01:11.802101"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190963
Completed 302 Found in 15ms (ActiveRecord: 1.0ms | Allocations: 2481)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 84ms (Views: 65.0ms | ActiveRecord: 0.9ms | Allocations: 24114)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 76ms (Views: 33.6ms | ActiveRecord: 0.5ms | Allocations: 14005)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (353.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mTruncate Tables (389.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (394.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mTruncate Tables (433.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (193.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 20:01:28 -0300
Processing by UsersController#new_with_address as HTML
  Rendering users/new_with_address.html.erb within layouts/application
  Rendered users/_form_fields_with_address.html.erb (Duration: 3.6ms | Allocations: 3512)
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4383)
  [1m[35m (260.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 42.9ms | ActiveRecord: 0.0ms | Allocations: 13385)
  [1m[35m (263.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (228.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 23:01:28.727838"], ["updated_at", "2019-12-01 23:01:28.727838"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 23:01:28.730436"], ["updated_at", "2019-12-01 23:01:28.730436"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 20:01:28 -0300
Processing by UsersController#edit_with_address as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-----------------------------------------------------------------------------------------------
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  Rendering users/edit_with_address.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
UsersControllerTest: test_GET_show_shows_all_the_user_data
----------------------------------------------------------
  Rendered users/_form_fields_with_address.html.erb (Duration: 2.1ms | Allocations: 1624)
  Rendered users/edit_with_address.html.erb within layouts/application (Duration: 3.1ms | Allocations: 2153)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 5.5ms | ActiveRecord: 0.3ms | Allocations: 5038)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 23:01:28.745659"], ["updated_at", "2019-12-01 23:01:28.745659"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 23:01:28.748264"], ["updated_at", "2019-12-01 23:01:28.748264"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 23:01:28.748800"], ["updated_at", "2019-12-01 23:01:28.748800"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 23:01:28.751071"], ["updated_at", "2019-12-01 23:01:28.751071"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 20:01:28 -0300
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 20:01:28 -0300
Started GET "/users/980190963" for 127.0.0.1 at 2019-12-01 20:01:28 -0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
Processing by UsersController#update_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name2", "lastname"=>"Lastname2", "email"=>"email2@test.com", "address_attributes"=>{"street"=>"Fake Street2", "number"=>"111", "floor"=>"1", "department"=>"3"}}, "id"=>"980190963"}
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"Name", "lastname"=>"Lastname", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "lastname" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Name2"], ["lastname", "Lastname2"], ["email", "email2@test.com"], ["updated_at", "2019-12-01 23:01:28.766992"], ["id", 980190963]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Update (0.1ms)[0m  [1m[33mUPDATE "addresses" SET "street" = ?, "number" = ?, "floor" = ?, "department" = ?, "updated_at" = ? WHERE "addresses"."id" = ?[0m  [["street", "Fake Street2"], ["number", "111"], ["floor", "1"], ["department", "3"], ["updated_at", "2019-12-01 23:01:28.768345"], ["id", 1]]
  Rendered users/show.html.erb within layouts/application (Duration: 1.7ms | Allocations: 686)
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190963
Completed 302 Found in 9ms (ActiveRecord: 0.5ms | Allocations: 2479)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Name"], ["lastname", "Lastname"], ["email", "email@test.com"], ["created_at", "2019-12-01 23:01:28.772148"], ["updated_at", "2019-12-01 23:01:28.772148"]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "floor", "department", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake Street"], ["number", "123"], ["floor", "0"], ["department", "2"], ["created_at", "2019-12-01 23:01:28.774172"], ["updated_at", "2019-12-01 23:01:28.774172"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190963
Completed 302 Found in 13ms (ActiveRecord: 0.5ms | Allocations: 2601)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 53.0ms | ActiveRecord: 0.2ms | Allocations: 9779)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (475.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (472.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mTruncate Tables (539.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (545.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (233.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
UsersControllerTest: test_GET_show_shows_all_the_user_data
----------------------------------------------------------
  [1m[35m (280.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-01 23:08:19.877493"], ["updated_at", "2019-12-01 23:08:19.877493"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 23:08:19.879821"], ["updated_at", "2019-12-01 23:08:19.879821"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/980190963" for 127.0.0.1 at 2019-12-01 20:08:19 -0300
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 20:08:19 -0300
Processing by UsersController#new_with_address as HTML
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (Duration: 2.0ms | Allocations: 828)
  Rendering users/new_with_address.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 21.7ms | ActiveRecord: 0.3ms | Allocations: 9935)
  Rendered users/_form_fields_with_address.html.erb (Duration: 4.6ms | Allocations: 3516)
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 6.8ms | Allocations: 4769)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 20:08:19 -0300
  [1m[35m (216.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-01 23:08:19.947221"], ["updated_at", "2019-12-01 23:08:19.947221"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "floor", "department", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake Street"], ["number", "123"], ["floor", "0"], ["department", "2"], ["created_at", "2019-12-01 23:08:19.948932"], ["updated_at", "2019-12-01 23:08:19.948932"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.6ms | Allocations: 1744)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 69ms (Views: 29.0ms | ActiveRecord: 0.8ms | Allocations: 24591)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-01 23:08:19.971229"], ["updated_at", "2019-12-01 23:08:19.971229"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 23:08:19.973849"], ["updated_at", "2019-12-01 23:08:19.973849"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 20:08:19 -0300
Processing by UsersController#edit_with_address as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  Rendering users/edit_with_address.html.erb within layouts/application
  Rendered users/_form_fields_with_address.html.erb (Duration: 3.4ms | Allocations: 3664)
  Rendered users/edit_with_address.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4950)
  [1m[35m (285.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-----------------------------------------------------------------------------------------------
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 24.4ms | ActiveRecord: 0.2ms | Allocations: 14490)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-01 23:08:20.047444"], ["updated_at", "2019-12-01 23:08:20.047444"]]
  [1m[36mAddress Create (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-01 23:08:20.050127"], ["updated_at", "2019-12-01 23:08:20.050127"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 20:08:20 -0300
Processing by UsersController#update_with_address as HTML
  Parameters: {"user"=>{"name"=>"Jane", "lastname"=>"Doe", "email"=>"email2@test.com", "address_attributes"=>{"street"=>"Fake Street2", "number"=>"111", "floor"=>"1", "department"=>"3"}}, "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Jane"], ["email", "email2@test.com"], ["updated_at", "2019-12-01 23:08:20.087688"], ["id", 980190963]]
  [1m[36mAddress Update (0.1ms)[0m  [1m[33mUPDATE "addresses" SET "street" = ?, "number" = ?, "floor" = ?, "department" = ?, "updated_at" = ? WHERE "addresses"."id" = ?[0m  [["street", "Fake Street2"], ["number", "111"], ["floor", "1"], ["department", "3"], ["updated_at", "2019-12-01 23:08:20.089144"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190963
Completed 302 Found in 9ms (ActiveRecord: 0.5ms | Allocations: 2469)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.0ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (618.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[36mTruncate Tables (639.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (643.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (646.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mFixtures Load (2.6ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (210.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (191.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------
AddressesControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------
AddressesControllerTest: test_GET_new_with_user_shows_a_form_for_the_address_with_nested_user_attributes
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[35m (239.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (237.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
UsersControllerTest: test_GET_show_shows_all_the_user_data
----------------------------------------------------------
Started GET "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 22:31:12 -0300
Started POST "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 22:31:12 -0300
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-----------------------------------------------------------------------------------------------
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 22:31:12 -0300
Processing by UsersController#new_with_address as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 01:31:12.299694"], ["updated_at", "2019-12-02 01:31:12.299694"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-02 01:31:12.301910"], ["updated_at", "2019-12-02 01:31:12.301910"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started PATCH "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 22:31:12 -0300
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 01:31:12.302962"], ["updated_at", "2019-12-02 01:31:12.302962"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-02 01:31:12.305189"], ["updated_at", "2019-12-02 01:31:12.305189"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 01:31:12.306736"], ["updated_at", "2019-12-02 01:31:12.306736"]]
Processing by UsersController#update_with_address as HTML
  Parameters: {"user"=>{"name"=>"Jane", "lastname"=>"Doe", "email"=>"email2@test.com", "address_attributes"=>{"street"=>"Fake Street2", "number"=>"111", "floor"=>"1", "department"=>"3"}}, "id"=>"980190963"}
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-02 01:31:12.309158"], ["updated_at", "2019-12-02 01:31:12.309158"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering users/new_with_address.html.erb within layouts/application
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Jane"], ["email", "email2@test.com"], ["updated_at", "2019-12-02 01:31:12.317005"], ["id", 980190963]]
  Rendered users/_form_fields_with_address.html.erb (Duration: 5.3ms | Allocations: 3517)
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 7.6ms | Allocations: 4866)
  [1m[36mAddress Update (0.2ms)[0m  [1m[33mUPDATE "addresses" SET "street" = ?, "number" = ?, "floor" = ?, "department" = ?, "updated_at" = ? WHERE "addresses"."id" = ?[0m  [["street", "Fake Street2"], ["number", "111"], ["floor", "1"], ["department", "3"], ["updated_at", "2019-12-02 01:31:12.319002"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190963
Completed 302 Found in 12ms (ActiveRecord: 0.8ms | Allocations: 2464)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
Started GET "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 22:31:12 -0300
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started GET "/users/980190963" for 127.0.0.1 at 2019-12-01 22:31:12 -0300
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 22:31:12 -0300
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
Processing by UsersController#edit_with_address as HTML
  Parameters: {"id"=>"980190963"}
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 01:31:12.333753"], ["updated_at", "2019-12-02 01:31:12.333753"]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Create (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "floor", "department", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake Street"], ["number", "123"], ["floor", "0"], ["department", "2"], ["created_at", "2019-12-02 01:31:12.336178"], ["updated_at", "2019-12-02 01:31:12.336178"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Redirected to http://www.example.com/users/980190963
Completed 302 Found in 7ms (ActiveRecord: 0.6ms | Allocations: 1620)
  Rendering users/edit_with_address.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  Rendering users/show.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (Duration: 2.9ms | Allocations: 824)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  Rendered users/_form_fields_with_address.html.erb (Duration: 6.1ms | Allocations: 3662)
  Rendered users/edit_with_address.html.erb within layouts/application (Duration: 9.6ms | Allocations: 5044)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 94ms (Views: 87.7ms | ActiveRecord: 0.4ms | Allocations: 14019)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 140ms (Views: 121.5ms | ActiveRecord: 0.9ms | Allocations: 28147)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 102ms (Views: 95.3ms | ActiveRecord: 0.4ms | Allocations: 17077)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (427.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (432.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (435.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mTruncate Tables (530.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (252.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (252.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (244.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------
----------------------------------------------------------
UsersControllerTest: test_GET_show_shows_all_the_user_data
----------------------------------------------------------
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 22:33:30 -0300
  [1m[35m (214.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
Processing by UsersController#new_with_address as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 01:33:30.373393"], ["updated_at", "2019-12-02 01:33:30.373393"]]
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-02 01:33:30.377318"], ["updated_at", "2019-12-02 01:33:30.377318"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 01:33:30.378943"], ["updated_at", "2019-12-02 01:33:30.378943"]]
Started GET "/users/980190963" for 127.0.0.1 at 2019-12-01 22:33:30 -0300
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-02 01:33:30.383063"], ["updated_at", "2019-12-02 01:33:30.383063"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started GET "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 22:33:30 -0300
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 22:33:30 -0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
Processing by UsersController#edit_with_address as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Load (1.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  Rendering users/edit_with_address.html.erb within layouts/application
  Rendered users/show.html.erb within layouts/application (Duration: 4.6ms | Allocations: 828)
  Rendering users/new_with_address.html.erb within layouts/application
  Rendered users/_form_fields_with_address.html.erb (Duration: 10.9ms | Allocations: 3666)
  Rendered users/edit_with_address.html.erb within layouts/application (Duration: 16.8ms | Allocations: 5048)
  Rendered users/_form_fields_with_address.html.erb (Duration: 13.9ms | Allocations: 3518)
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 22.3ms | Allocations: 4867)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 01:33:30.477033"], ["updated_at", "2019-12-02 01:33:30.477033"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "floor", "department", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake Street"], ["number", "123"], ["floor", "0"], ["department", "2"], ["created_at", "2019-12-02 01:33:30.481287"], ["updated_at", "2019-12-02 01:33:30.481287"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190963
Completed 302 Found in 71ms (ActiveRecord: 1.5ms | Allocations: 11929)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 90ms (Views: 81.4ms | ActiveRecord: 0.3ms | Allocations: 12683)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-----------------------------------------------------------------------------------------------
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 95ms (Views: 86.0ms | ActiveRecord: 1.3ms | Allocations: 17373)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------
AddressesControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 01:33:30.499799"], ["updated_at", "2019-12-02 01:33:30.499799"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-02 01:33:30.501922"], ["updated_at", "2019-12-02 01:33:30.501922"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
Started PATCH "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 22:33:30 -0300
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
AddressesControllerTest: test_GET_new_with_user_shows_a_form_for_the_address_with_nested_user_attributes
--------------------------------------------------------------------------------------------------------
Started POST "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 22:33:30 -0300
Started GET "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 22:33:30 -0300
Processing by UsersController#update_with_address as HTML
  Parameters: {"user"=>{"name"=>"Jane", "lastname"=>"Doe", "email"=>"email2@test.com", "address_attributes"=>{"street"=>"Fake Street2", "number"=>"111", "floor"=>"1", "department"=>"3"}}, "id"=>"980190963"}
Processing by AddressesController#new_with_user as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
Processing by AddressesController#create_with_user as HTML
  Parameters: {"address"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2", "user_attributes"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com"}}}
Completed 406 Not Acceptable in 4ms (ActiveRecord: 0.0ms | Allocations: 1802)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Jane"], ["email", "email2@test.com"], ["updated_at", "2019-12-02 01:33:30.512861"], ["id", 980190963]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mAddress Update (0.2ms)[0m  [1m[33mUPDATE "addresses" SET "street" = ?, "number" = ?, "floor" = ?, "department" = ?, "updated_at" = ? WHERE "addresses"."id" = ?[0m  [["street", "Fake Street2"], ["number", "111"], ["floor", "1"], ["department", "3"], ["updated_at", "2019-12-02 01:33:30.515056"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
Redirected to http://www.example.com/users/980190963
Completed 302 Found in 8ms (ActiveRecord: 0.9ms | Allocations: 2014)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 183ms (Views: 124.1ms | ActiveRecord: 1.3ms | Allocations: 27559)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 500 Internal Server Error in 52ms (ActiveRecord: 0.0ms | Allocations: 5009)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (425.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (456.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (453.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mTruncate Tables (480.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (245.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (223.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------
AddressesControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
  [1m[35m (229.7ms)[0m  [1m[36mcommit transaction[0m
-------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------
AddressesControllerTest: test_GET_new_with_user_shows_a_form_for_the_address_with_nested_user_attributes
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
Started GET "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 22:33:48 -0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[35m (246.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
Started POST "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 22:33:48 -0300
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
Processing by AddressesController#new_with_user as HTML
Processing by AddressesController#create_with_user as HTML
  Parameters: {"address"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2", "user_attributes"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com"}}}
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 01:33:48.359466"], ["updated_at", "2019-12-02 01:33:48.359466"]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
UsersControllerTest: test_GET_show_shows_all_the_user_data
----------------------------------------------------------
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-02 01:33:48.362320"], ["updated_at", "2019-12-02 01:33:48.362320"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 22:33:48 -0300
Completed 406 Not Acceptable in 20ms (ActiveRecord: 0.9ms | Allocations: 12695)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 22:33:48 -0300
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 01:33:48.371419"], ["updated_at", "2019-12-02 01:33:48.371419"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "floor", "department", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake Street"], ["number", "123"], ["floor", "0"], ["department", "2"], ["created_at", "2019-12-02 01:33:48.373860"], ["updated_at", "2019-12-02 01:33:48.373860"]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 01:33:48.374191"], ["updated_at", "2019-12-02 01:33:48.374191"]]
Redirected to http://www.example.com/addresses/1
Completed 302 Found in 24ms (ActiveRecord: 1.5ms | Allocations: 11830)
Processing by UsersController#edit_with_address as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-02 01:33:48.377281"], ["updated_at", "2019-12-02 01:33:48.377281"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/980190963" for 127.0.0.1 at 2019-12-01 22:33:48 -0300
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Processing by UsersController#new_with_address as HTML
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  Rendering users/new_with_address.html.erb within layouts/application
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-----------------------------------------------------------------------------------------------
  Rendered users/_form_fields_with_address.html.erb (Duration: 6.4ms | Allocations: 3518)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 9.4ms | Allocations: 4866)
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 01:33:48.419137"], ["updated_at", "2019-12-02 01:33:48.419137"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-02 01:33:48.421095"], ["updated_at", "2019-12-02 01:33:48.421095"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 22:33:48 -0300
Processing by UsersController#update_with_address as HTML
  Parameters: {"user"=>{"name"=>"Jane", "lastname"=>"Doe", "email"=>"email2@test.com", "address_attributes"=>{"street"=>"Fake Street2", "number"=>"111", "floor"=>"1", "department"=>"3"}}, "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendering users/edit_with_address.html.erb within layouts/application
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Jane"], ["email", "email2@test.com"], ["updated_at", "2019-12-02 01:33:48.431247"], ["id", 980190963]]
  [1m[36mAddress Update (0.2ms)[0m  [1m[33mUPDATE "addresses" SET "street" = ?, "number" = ?, "floor" = ?, "department" = ?, "updated_at" = ? WHERE "addresses"."id" = ?[0m  [["street", "Fake Street2"], ["number", "111"], ["floor", "1"], ["department", "3"], ["updated_at", "2019-12-02 01:33:48.433476"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190963
Completed 302 Found in 9ms (ActiveRecord: 0.9ms | Allocations: 2254)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  Rendered users/_form_fields_with_address.html.erb (Duration: 7.8ms | Allocations: 3663)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  Rendered users/edit_with_address.html.erb within layouts/application (Duration: 11.8ms | Allocations: 5045)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 22:33:48 -0300
  Rendering users/show.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
Completed 200 OK in 40ms (Views: 37.8ms | ActiveRecord: 0.0ms | Allocations: 16775)
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (Duration: 3.1ms | Allocations: 827)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 01:33:48.448586"], ["updated_at", "2019-12-02 01:33:48.448586"]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mAddress Create (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "floor", "department", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake Street"], ["number", "123"], ["floor", "0"], ["department", "2"], ["created_at", "2019-12-02 01:33:48.450831"], ["updated_at", "2019-12-02 01:33:48.450831"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190963
Completed 302 Found in 5ms (ActiveRecord: 0.6ms | Allocations: 1619)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mAddress Load (4.4ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 100ms (Views: 89.5ms | ActiveRecord: 0.4ms | Allocations: 17544)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 93ms (Views: 83.4ms | ActiveRecord: 0.5ms | Allocations: 12939)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (407.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (409.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (413.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[36mTruncate Tables (412.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (1.1ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (156.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------
AddressesControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started POST "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 22:37:52 -0300
Processing by AddressesController#create_with_user as HTML
  Parameters: {"address"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2", "user_attributes"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com"}}}
  [1m[35m (228.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
  [1m[35m (224.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (229.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
AddressesControllerTest: test_GET_new_with_user_shows_a_form_for_the_address_with_nested_user_attributes
--------------------------------------------------------------------------------------------------------
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 22:37:52 -0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 01:37:52.853589"], ["updated_at", "2019-12-02 01:37:52.853589"]]
Started GET "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 22:37:52 -0300
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "floor", "department", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake Street"], ["number", "123"], ["floor", "0"], ["department", "2"], ["created_at", "2019-12-02 01:37:52.855761"], ["updated_at", "2019-12-02 01:37:52.855761"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 22:37:52 -0300
Redirected to http://www.example.com/addresses/1
Processing by UsersController#new_with_address as HTML
Completed 302 Found in 45ms (ActiveRecord: 1.3ms | Allocations: 11865)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
Processing by UsersController#create_with_address as HTML
Processing by AddressesController#new_with_user as HTML
  Parameters: {"user"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 01:37:52.867296"], ["updated_at", "2019-12-02 01:37:52.867296"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-02 01:37:52.868922"], ["updated_at", "2019-12-02 01:37:52.868922"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 22:37:52 -0300
Processing by UsersController#edit_with_address as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  Rendering users/edit_with_address.html.erb within layouts/application
  Rendered users/_form_fields_with_address.html.erb (Duration: 6.2ms | Allocations: 3607)
  Rendered users/edit_with_address.html.erb within layouts/application (Duration: 9.3ms | Allocations: 4554)
  Rendering users/new_with_address.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 01:37:52.913988"], ["updated_at", "2019-12-02 01:37:52.913988"]]
  Rendered users/_form_fields_with_address.html.erb (Duration: 6.9ms | Allocations: 3518)
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 10.5ms | Allocations: 4867)
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "floor", "department", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake Street"], ["number", "123"], ["floor", "0"], ["department", "2"], ["created_at", "2019-12-02 01:37:52.916647"], ["updated_at", "2019-12-02 01:37:52.916647"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190963
Completed 302 Found in 53ms (ActiveRecord: 1.3ms | Allocations: 11967)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 44.4ms | ActiveRecord: 0.3ms | Allocations: 16966)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
UsersControllerTest: test_GET_show_shows_all_the_user_data
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-----------------------------------------------------------------------------------------------
  Rendering addresses/new_with_user.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 01:37:52.929138"], ["updated_at", "2019-12-02 01:37:52.929138"]]
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 01:37:52.929429"], ["updated_at", "2019-12-02 01:37:52.929429"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-02 01:37:52.930960"], ["updated_at", "2019-12-02 01:37:52.930960"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-02 01:37:52.931263"], ["updated_at", "2019-12-02 01:37:52.931263"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/980190963" for 127.0.0.1 at 2019-12-01 22:37:52 -0300
Started PATCH "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 22:37:52 -0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
Processing by UsersController#update_with_address as HTML
  Parameters: {"user"=>{"name"=>"Jane", "lastname"=>"Doe", "email"=>"email2@test.com", "address_attributes"=>{"street"=>"Fake Street2", "number"=>"111", "floor"=>"1", "department"=>"3"}}, "id"=>"980190963"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered addresses/new_with_user.html.erb within layouts/application (Duration: 8.9ms | Allocations: 4562)
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  Rendering users/show.html.erb within layouts/application
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Jane"], ["email", "email2@test.com"], ["updated_at", "2019-12-02 01:37:52.938963"], ["id", 980190963]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (Duration: 1.8ms | Allocations: 625)
  [1m[36mAddress Update (0.2ms)[0m  [1m[33mUPDATE "addresses" SET "street" = ?, "number" = ?, "floor" = ?, "department" = ?, "updated_at" = ? WHERE "addresses"."id" = ?[0m  [["street", "Fake Street2"], ["number", "111"], ["floor", "1"], ["department", "3"], ["updated_at", "2019-12-02 01:37:52.941082"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190963
Completed 302 Found in 7ms (ActiveRecord: 0.7ms | Allocations: 1924)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 86ms (Views: 39.2ms | ActiveRecord: 0.9ms | Allocations: 27803)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 105ms (Views: 43.5ms | ActiveRecord: 1.1ms | Allocations: 27486)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 45.2ms | ActiveRecord: 0.3ms | Allocations: 12721)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (402.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mTruncate Tables (440.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (457.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mTruncate Tables (506.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (213.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (214.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (248.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (148.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------
AddressesControllerTest: test_GET_new_with_user_shows_a_form_for_the_address_with_nested_user_attributes
AddressesControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-----------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:00:19.378558"], ["updated_at", "2019-12-02 02:00:19.378558"]]
Started POST "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 23:00:19 -0300
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-02 02:00:19.381038"], ["updated_at", "2019-12-02 02:00:19.381038"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started GET "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 23:00:19 -0300
Processing by AddressesController#create_with_user as HTML
  Parameters: {"address"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2", "user_attributes"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com"}}}
Processing by AddressesController#new_with_user as HTML
Started PATCH "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 23:00:19 -0300
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:00:19.402144"], ["updated_at", "2019-12-02 02:00:19.402144"]]
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 23:00:19 -0300
  [1m[36mAddress Create (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "floor", "department", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake Street"], ["number", "123"], ["floor", "0"], ["department", "2"], ["created_at", "2019-12-02 02:00:19.403770"], ["updated_at", "2019-12-02 02:00:19.403770"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addresses/1
Completed 302 Found in 18ms (ActiveRecord: 0.9ms | Allocations: 11833)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Processing by UsersController#update_with_address as HTML
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Parameters: {"user"=>{"name"=>"Jane", "lastname"=>"Doe", "email"=>"email2@test.com", "address_attributes"=>{"street"=>"Fake Street2", "number"=>"111", "floor"=>"1", "department"=>"3"}}, "id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering addresses/new_with_user.html.erb within layouts/application
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:00:19.415989"], ["updated_at", "2019-12-02 02:00:19.415989"]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Jane"], ["email", "email2@test.com"], ["updated_at", "2019-12-02 02:00:19.416899"], ["id", 980190963]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "floor", "department", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake Street"], ["number", "123"], ["floor", "0"], ["department", "2"], ["created_at", "2019-12-02 02:00:19.418652"], ["updated_at", "2019-12-02 02:00:19.418652"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAddress Update (0.2ms)[0m  [1m[33mUPDATE "addresses" SET "street" = ?, "number" = ?, "floor" = ?, "department" = ?, "updated_at" = ? WHERE "addresses"."id" = ?[0m  [["street", "Fake Street2"], ["number", "111"], ["floor", "1"], ["department", "3"], ["updated_at", "2019-12-02 02:00:19.419080"], ["id", 1]]
Redirected to http://www.example.com/users/980190963
Completed 302 Found in 10ms (ActiveRecord: 0.7ms | Allocations: 2190)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:00:19.458286"], ["updated_at", "2019-12-02 02:00:19.458286"]]
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-02 02:00:19.460959"], ["updated_at", "2019-12-02 02:00:19.460959"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/980190963/edit_with_address" for 127.0.0.1 at 2019-12-01 23:00:19 -0300
Processing by UsersController#edit_with_address as HTML
  Parameters: {"id"=>"980190963"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  Rendering users/edit_with_address.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/980190963
Completed 302 Found in 66ms (ActiveRecord: 0.8ms | Allocations: 2461)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
UsersControllerTest: test_GET_show_shows_all_the_user_data
----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:00:19.479267"], ["updated_at", "2019-12-02 02:00:19.479267"]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 980190963], ["street", "Fake street"], ["created_at", "2019-12-02 02:00:19.481265"], ["updated_at", "2019-12-02 02:00:19.481265"]]
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 23:00:19 -0300
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#new_with_address as HTML
Started GET "/users/980190963" for 127.0.0.1 at 2019-12-01 23:00:19 -0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190963"}
  Rendering users/new_with_address.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 980190963], ["LIMIT", 1]]
  Rendered addresses/new_with_user.html.erb within layouts/application (Duration: 78.6ms | Allocations: 18156)
  Rendering users/show.html.erb within layouts/application
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 980190963], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (Duration: 2.2ms | Allocations: 625)
  Rendered users/_form_fields_with_address.html.erb (Duration: 21.4ms | Allocations: 11387)
  Rendered users/edit_with_address.html.erb within layouts/application (Duration: 34.7ms | Allocations: 18287)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered users/_form_fields_with_address.html.erb (Duration: 16.9ms | Allocations: 11284)
Completed 200 OK in 121ms (Views: 104.8ms | ActiveRecord: 0.9ms | Allocations: 41143)
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 27.6ms | Allocations: 18094)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 33ms (Views: 30.2ms | ActiveRecord: 0.3ms | Allocations: 12809)
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 77ms (Views: 73.0ms | ActiveRecord: 0.3ms | Allocations: 30906)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
Completed 200 OK in 64ms (Views: 62.5ms | ActiveRecord: 0.0ms | Allocations: 30282)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateAddresses (20191201205334)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (6.9ms)[0m  [1m[35mDROP TABLE "addresses"[0m
  [1m[36mprimary::SchemaMigration Destroy (7.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20191201205334"]]
  [1m[35m (100.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateAddresses (20191201205334)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "street" varchar, "number" varchar, "zip_code" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_48c9e0c5a2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20191201205334"]]
  [1m[35m (96.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses"[0m
  [1m[35m (138.9ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "street" varchar, "number" varchar, "zip_code" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (116.1ms)[0m  [1m[35mCREATE  INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (108.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(40), "lastname" varchar(40), "email" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (107.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aaddresses" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer DEFAULT NULL, "street" varchar DEFAULT NULL, "number" varchar DEFAULT NULL, "zip_code" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_aaddresses_on_user_id" ON "aaddresses" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aaddresses" ("id","user_id","street","number","zip_code","created_at","updated_at")
                     SELECT "id","user_id","street","number","zip_code","created_at","updated_at" FROM "addresses"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "addresses"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer DEFAULT NULL, "street" varchar DEFAULT NULL, "number" varchar DEFAULT NULL, "zip_code" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_48c9e0c5a2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("id","user_id","street","number","zip_code","created_at","updated_at")
                     SELECT "id","user_id","street","number","zip_code","created_at","updated_at" FROM "aaddresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aaddresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (74.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (117.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (93.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20191201205334)[0m
  [1m[35m (85.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20191201200854);

[0m
  [1m[35m (92.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2019-12-02 02:26:08.334240"], ["updated_at", "2019-12-02 02:26:08.334240"]]
  [1m[35m (82.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "7227a7cfe8387c1a54a2992bf4ea36bfd86dd3de"], ["created_at", "2019-12-02 02:26:08.424096"], ["updated_at", "2019-12-02 02:26:08.424096"]]
  [1m[35m (59.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses"[0m
  [1m[35m (177.8ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "street" varchar, "number" varchar, "zip_code" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (182.5ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "street" varchar, "number" varchar, "zip_code" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (187.7ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "street" varchar, "number" varchar, "zip_code" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (184.5ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "street" varchar, "number" varchar, "zip_code" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (232.3ms)[0m  [1m[35mCREATE  INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (232.4ms)[0m  [1m[35mCREATE  INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (232.3ms)[0m  [1m[35mCREATE  INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (308.3ms)[0m  [1m[35mCREATE  INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users"[0m
  [1m[35m (291.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(40), "lastname" varchar(40), "email" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (291.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(40), "lastname" varchar(40), "email" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (291.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(40), "lastname" varchar(40), "email" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (293.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(40), "lastname" varchar(40), "email" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (460.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (460.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (460.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aaddresses" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer DEFAULT NULL, "street" varchar DEFAULT NULL, "number" varchar DEFAULT NULL, "zip_code" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aaddresses" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer DEFAULT NULL, "street" varchar DEFAULT NULL, "number" varchar DEFAULT NULL, "zip_code" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aaddresses" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer DEFAULT NULL, "street" varchar DEFAULT NULL, "number" varchar DEFAULT NULL, "zip_code" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "tindex_aaddresses_on_user_id" ON "aaddresses" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "tindex_aaddresses_on_user_id" ON "aaddresses" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "tindex_aaddresses_on_user_id" ON "aaddresses" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aaddresses" ("id","user_id","street","number","zip_code","created_at","updated_at")
                     SELECT "id","user_id","street","number","zip_code","created_at","updated_at" FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aaddresses" ("id","user_id","street","number","zip_code","created_at","updated_at")
                     SELECT "id","user_id","street","number","zip_code","created_at","updated_at" FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aaddresses" ("id","user_id","street","number","zip_code","created_at","updated_at")
                     SELECT "id","user_id","street","number","zip_code","created_at","updated_at" FROM "addresses"[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "addresses"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "addresses"[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "addresses"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer DEFAULT NULL, "street" varchar DEFAULT NULL, "number" varchar DEFAULT NULL, "zip_code" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_48c9e0c5a2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer DEFAULT NULL, "street" varchar DEFAULT NULL, "number" varchar DEFAULT NULL, "zip_code" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_48c9e0c5a2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer DEFAULT NULL, "street" varchar DEFAULT NULL, "number" varchar DEFAULT NULL, "zip_code" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_48c9e0c5a2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("id","user_id","street","number","zip_code","created_at","updated_at")
                     SELECT "id","user_id","street","number","zip_code","created_at","updated_at" FROM "aaddresses"[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("id","user_id","street","number","zip_code","created_at","updated_at")
                     SELECT "id","user_id","street","number","zip_code","created_at","updated_at" FROM "aaddresses"[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("id","user_id","street","number","zip_code","created_at","updated_at")
                     SELECT "id","user_id","street","number","zip_code","created_at","updated_at" FROM "aaddresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aaddresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aaddresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aaddresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (472.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aaddresses" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer DEFAULT NULL, "street" varchar DEFAULT NULL, "number" varchar DEFAULT NULL, "zip_code" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "tindex_aaddresses_on_user_id" ON "aaddresses" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aaddresses" ("id","user_id","street","number","zip_code","created_at","updated_at")
                     SELECT "id","user_id","street","number","zip_code","created_at","updated_at" FROM "addresses"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "addresses"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" integer NOT NULL PRIMARY KEY, "user_id" integer DEFAULT NULL, "street" varchar DEFAULT NULL, "number" varchar DEFAULT NULL, "zip_code" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_48c9e0c5a2"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("id","user_id","street","number","zip_code","created_at","updated_at")
                     SELECT "id","user_id","street","number","zip_code","created_at","updated_at" FROM "aaddresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "aaddresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (240.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (240.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (240.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (229.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (338.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (408.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (408.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (448.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (381.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20191201205334)[0m
  [1m[35m (409.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20191201205334)[0m
  [1m[35m (453.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20191201205334)[0m
  [1m[35m (395.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20191201205334)[0m
  [1m[35m (434.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20191201200854);

[0m
  [1m[35m (290.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20191201200854);

[0m
  [1m[35m (299.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20191201200854);

[0m
  [1m[35m (274.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20191201200854);

[0m
  [1m[35m (290.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (290.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2019-12-02 02:26:11.520730"], ["updated_at", "2019-12-02 02:26:11.520730"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2019-12-02 02:26:11.520730"], ["updated_at", "2019-12-02 02:26:11.520730"]]
  [1m[35m (304.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2019-12-02 02:26:11.570491"], ["updated_at", "2019-12-02 02:26:11.570491"]]
  [1m[35m (357.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2019-12-02 02:26:11.623563"], ["updated_at", "2019-12-02 02:26:11.623563"]]
  [1m[35m (193.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (194.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "7227a7cfe8387c1a54a2992bf4ea36bfd86dd3de"], ["created_at", "2019-12-02 02:26:11.724563"], ["updated_at", "2019-12-02 02:26:11.724563"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "7227a7cfe8387c1a54a2992bf4ea36bfd86dd3de"], ["created_at", "2019-12-02 02:26:11.725441"], ["updated_at", "2019-12-02 02:26:11.725441"]]
  [1m[35m (218.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "7227a7cfe8387c1a54a2992bf4ea36bfd86dd3de"], ["created_at", "2019-12-02 02:26:11.800025"], ["updated_at", "2019-12-02 02:26:11.800025"]]
  [1m[35m (275.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "schema_sha1"], ["value", "7227a7cfe8387c1a54a2992bf4ea36bfd86dd3de"], ["created_at", "2019-12-02 02:26:11.909531"], ["updated_at", "2019-12-02 02:26:11.909531"]]
  [1m[35m (266.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (266.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (309.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (186.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (200.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (309.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
AddressesControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------
AddressesControllerTest: test_GET_new_with_user_shows_a_form_for_the_address_with_nested_user_attributes
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
Started GET "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 23:26:12 -0300
Started POST "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 23:26:12 -0300
Processing by AddressesController#new_with_user as HTML
Processing by AddressesController#create_with_user as HTML
  Parameters: {"address"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2", "user_attributes"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com"}}}
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.3ms | Allocations: 4813)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
UsersControllerTest: test_GET_show_shows_all_the_user_data
----------------------------------------------------------
  Rendering addresses/new_with_user.html.erb within layouts/application
  [1m[35m (152.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-----------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 23:26:12 -0300
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 650)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  Rendered addresses/new_with_user.html.erb within layouts/application (Duration: 19.6ms | Allocations: 14380)
Completed 500 Internal Server Error in 38ms (ActiveRecord: 0.8ms | Allocations: 26312)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (96.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 23:26:12 -0300
Processing by UsersController#new_with_address as HTML
  Rendering users/new_with_address.html.erb within layouts/application
  Rendered users/_form_fields_with_address.html.erb (Duration: 12.4ms | Allocations: 12168)
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 20.1ms | Allocations: 19229)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 0.7ms | Allocations: 31184)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (375.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (373.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (365.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[36mTruncate Tables (369.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (431.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (440.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
----------------------------------------
AddressesControllerTest: test_GET_new_with_user_shows_a_form_for_the_address_with_nested_user_attributes
UserTest: test_it_has_an_Address_address
--------------------------------------------------------------------------------------------------------
----------------------------------------
  [1m[35m (462.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (463.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------
-------------------------------------------------
AddressesControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------------------------------------------------------
-------------------------------------------------
Started GET "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 23:28:31 -0300
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-----------------------------------------------------------------------------------------------
Started POST "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 23:28:31 -0300
Processing by AddressesController#new_with_user as HTML
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Processing by AddressesController#create_with_user as HTML
  Parameters: {"address"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2", "user_attributes"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com"}}}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
[31mUnpermitted parameters: :floor, :department[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 23:28:31 -0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  Rendering addresses/new_with_user.html.erb within layouts/application
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 23:28:31 -0300
Processing by UsersController#new_with_address as HTML
  Rendering addresses/new_with_user.html.erb within layouts/application
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "floor"=>"0", "department"=>"2"}}}
  Rendering users/new_with_address.html.erb within layouts/application
[31mUnpermitted parameters: :floor, :department[0m
  Rendered addresses/new_with_user.html.erb within layouts/application (Duration: 22.9ms | Allocations: 17427)
  Rendering users/new_with_address.html.erb within layouts/application
  Rendered addresses/new_with_user.html.erb within layouts/application (Duration: 21.9ms | Allocations: 16533)
  Rendered users/_form_fields_with_address.html.erb (Duration: 15.4ms | Allocations: 9268)
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 27.9ms | Allocations: 16558)
  Rendered users/_form_fields_with_address.html.erb (Duration: 13.3ms | Allocations: 9526)
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 24.4ms | Allocations: 16816)
[Webpacker] Compiling...
[Webpacker] Compiling...
[Webpacker] Compiling...
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/ariel/dev/rails-nested-forms-examples/public/packs-test
[Webpacker] Hash: 57d7630ac07a5b9e9e89
Version: webpack 4.41.2
Time: 614ms
Built at: 2019-12-01 11:28:33 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-553a6d69ef4b54f3ee83.js    124 KiB  application  [emitted] [immutable]  application
js/application-553a6d69ef4b54f3ee83.js.map    139 KiB  application  [emitted] [dev]        application
                             manifest.json  384 bytes               [emitted]              
Entrypoint application = js/application-553a6d69ef4b54f3ee83.js js/application-553a6d69ef4b54f3ee83.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 3 hidden modules

Completed 200 OK in 1935ms (Views: 1913.4ms | ActiveRecord: 0.9ms | Allocations: 47910)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
UsersControllerTest: test_GET_show_shows_all_the_user_data
----------------------------------------------------------
[Webpacker] Compiled all packs in /home/ariel/dev/rails-nested-forms-examples/public/packs-test
[Webpacker] Hash: 57d7630ac07a5b9e9e89
Version: webpack 4.41.2
Time: 631ms
Built at: 2019-12-01 11:28:33 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-553a6d69ef4b54f3ee83.js    124 KiB  application  [emitted] [immutable]  application
js/application-553a6d69ef4b54f3ee83.js.map    139 KiB  application  [emitted] [dev]        application
                             manifest.json  384 bytes               [emitted]              
Entrypoint application = js/application-553a6d69ef4b54f3ee83.js js/application-553a6d69ef4b54f3ee83.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 3 hidden modules

Completed 200 OK in 1907ms (Views: 1894.8ms | ActiveRecord: 0.0ms | Allocations: 34882)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[Webpacker] Compiled all packs in /home/ariel/dev/rails-nested-forms-examples/public/packs-test
[Webpacker] Hash: 57d7630ac07a5b9e9e89
Version: webpack 4.41.2
Time: 662ms
Built at: 2019-12-01 11:28:33 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-553a6d69ef4b54f3ee83.js    124 KiB  application  [emitted] [immutable]  application
js/application-553a6d69ef4b54f3ee83.js.map    139 KiB  application  [emitted] [dev]        application
                             manifest.json  384 bytes               [emitted]              
Entrypoint application = js/application-553a6d69ef4b54f3ee83.js js/application-553a6d69ef4b54f3ee83.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 3 hidden modules

--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
Completed 200 OK in 1939ms (Views: 1920.1ms | ActiveRecord: 0.6ms | Allocations: 47926)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Compiled all packs in /home/ariel/dev/rails-nested-forms-examples/public/packs-test
[Webpacker] Hash: 57d7630ac07a5b9e9e89
Version: webpack 4.41.2
Time: 680ms
Built at: 2019-12-01 11:28:33 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-553a6d69ef4b54f3ee83.js    124 KiB  application  [emitted] [immutable]  application
js/application-553a6d69ef4b54f3ee83.js.map    139 KiB  application  [emitted] [dev]        application
                             manifest.json  384 bytes               [emitted]              
Entrypoint application = js/application-553a6d69ef4b54f3ee83.js js/application-553a6d69ef4b54f3ee83.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 3 hidden modules

Completed 200 OK in 1983ms (Views: 1974.6ms | ActiveRecord: 0.0ms | Allocations: 35797)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (421.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (444.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (447.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (442.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (164.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
AddressesControllerTest: test_GET_new_with_user_shows_a_form_for_the_address_with_nested_user_attributes
--------------------------------------------------------------------------------------------------------
Started GET "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 23:29:44 -0300
Processing by AddressesController#new_with_user as HTML
  Rendering addresses/new_with_user.html.erb within layouts/application
  Rendered addresses/new_with_user.html.erb within layouts/application (Duration: 21.3ms | Allocations: 17427)
  [1m[35m (218.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (220.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------
AddressesControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------
----------------------------------------------------------
UsersControllerTest: test_GET_show_shows_all_the_user_data
----------------------------------------------------------
  [1m[35m (219.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started POST "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 23:29:44 -0300
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 23:29:44 -0300
Processing by AddressesController#create_with_user as HTML
  Parameters: {"address"=>{"street"=>"Fake Street", "number"=>"123", "zip_code"=>"0", "user_attributes"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com"}}}
Processing by UsersController#new_with_address as HTML
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-----------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 23:29:44 -0300
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:29:44.394254"], ["updated_at", "2019-12-02 02:29:44.394254"]]
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake Street"], ["number", "123"], ["zip_code", "0"], ["created_at", "2019-12-02 02:29:44.396917"], ["updated_at", "2019-12-02 02:29:44.396917"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addresses/1
Completed 302 Found in 25ms (ActiveRecord: 1.5ms | Allocations: 11250)
  Rendering users/new_with_address.html.erb within layouts/application
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "zip_code"=>"0"}}}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:29:44.410822"], ["updated_at", "2019-12-02 02:29:44.410822"]]
Completed 200 OK in 105ms (Views: 88.0ms | ActiveRecord: 0.7ms | Allocations: 42311)
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake Street"], ["number", "123"], ["zip_code", "0"], ["created_at", "2019-12-02 02:29:44.413741"], ["updated_at", "2019-12-02 02:29:44.413741"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 13ms (ActiveRecord: 0.7ms | Allocations: 1994)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  Rendered users/_form_fields_with_address.html.erb (Duration: 15.2ms | Allocations: 10395)
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 29.0ms | Allocations: 17704)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 108ms (Views: 88.1ms | ActiveRecord: 0.8ms | Allocations: 42904)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (386.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (390.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mTruncate Tables (421.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (423.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (147.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------
AddressesControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (178.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
AddressesControllerTest: test_GET_new_with_user_shows_a_form_for_the_address_with_nested_user_attributes
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started POST "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 23:30:03 -0300
Started GET "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 23:30:03 -0300
Processing by AddressesController#create_with_user as HTML
  Parameters: {"address"=>{"street"=>"Fake Street", "number"=>"123", "zip_code"=>"0", "user_attributes"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com"}}}
Processing by AddressesController#new_with_user as HTML
  [1m[35m (189.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (191.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:30:03.858104"], ["updated_at", "2019-12-02 02:30:03.858104"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake Street"], ["number", "123"], ["zip_code", "0"], ["created_at", "2019-12-02 02:30:03.859889"], ["updated_at", "2019-12-02 02:30:03.859889"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addresses/1
Completed 302 Found in 20ms (ActiveRecord: 1.1ms | Allocations: 11250)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
UsersControllerTest: test_GET_show_shows_all_the_user_data
----------------------------------------------------------
  Rendering addresses/new_with_user.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 23:30:03 -0300
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Processing by UsersController#new_with_address as HTML
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 23:30:03 -0300
  Rendering users/new_with_address.html.erb within layouts/application
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "zip_code"=>"0"}}}
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:30:03.912190"], ["updated_at", "2019-12-02 02:30:03.912190"]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-----------------------------------------------------------------------------------------------
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake Street"], ["number", "123"], ["zip_code", "0"], ["created_at", "2019-12-02 02:30:03.915686"], ["updated_at", "2019-12-02 02:30:03.915686"]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
Completed 302 Found in 15ms (ActiveRecord: 0.9ms | Allocations: 2182)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  Rendered addresses/new_with_user.html.erb within layouts/application (Duration: 80.8ms | Allocations: 17429)
  Rendered users/_form_fields_with_address.html.erb (Duration: 13.8ms | Allocations: 10400)
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 63.6ms | Allocations: 17705)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 159ms (Views: 135.0ms | ActiveRecord: 1.2ms | Allocations: 42567)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 124ms (Views: 114.0ms | ActiveRecord: 0.0ms | Allocations: 33154)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (404.3ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mTruncate Tables (456.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (461.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (458.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (191.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (184.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
AddressesControllerTest: test_GET_new_with_user_shows_a_form_for_the_address_with_nested_user_attributes
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
Started GET "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 23:30:48 -0300
Processing by AddressesController#new_with_user as HTML
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 23:30:48 -0300
  [1m[35m (215.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (214.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
-------------------------------------------------------------------------------------------------
AddressTest: test_it_has_a_User_user
AddressesControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------
------------------------------------
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "zip_code"=>"0"}}}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  Rendering addresses/new_with_user.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:30:48.338976"], ["updated_at", "2019-12-02 02:30:48.338976"]]
Started POST "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 23:30:48 -0300
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake Street"], ["number", "123"], ["zip_code", "0"], ["created_at", "2019-12-02 02:30:48.341750"], ["updated_at", "2019-12-02 02:30:48.341750"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 12ms (ActiveRecord: 0.7ms | Allocations: 1989)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Processing by AddressesController#create_with_user as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Parameters: {"address"=>{"street"=>"Fake Street", "number"=>"123", "zip_code"=>"0", "user_attributes"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com"}}}
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
UsersControllerTest: test_GET_show_shows_all_the_user_data
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:30:48.352842"], ["updated_at", "2019-12-02 02:30:48.352842"]]
  [1m[36mAddress Create (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake street"], ["number", "123"], ["zip_code", "3434"], ["created_at", "2019-12-02 02:30:48.354345"], ["updated_at", "2019-12-02 02:30:48.354345"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/1" for 127.0.0.1 at 2019-12-01 23:30:48 -0300
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 23:30:48 -0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (Duration: 1.5ms | Allocations: 628)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:30:48.365223"], ["updated_at", "2019-12-02 02:30:48.365223"]]
Processing by UsersController#new_with_address as HTML
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake Street"], ["number", "123"], ["zip_code", "0"], ["created_at", "2019-12-02 02:30:48.367182"], ["updated_at", "2019-12-02 02:30:48.367182"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addresses/1
Completed 302 Found in 20ms (ActiveRecord: 1.2ms | Allocations: 11250)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  Rendered addresses/new_with_user.html.erb within layouts/application (Duration: 31.7ms | Allocations: 17427)
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-----------------------------------------------------------------------------------------------
  Rendering users/new_with_address.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  Rendered users/_form_fields_with_address.html.erb (Duration: 15.4ms | Allocations: 10395)
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 26.4ms | Allocations: 17704)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 114ms (Views: 93.7ms | ActiveRecord: 0.9ms | Allocations: 42600)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 127ms (Views: 125.2ms | ActiveRecord: 0.2ms | Allocations: 15648)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 136ms (Views: 126.9ms | ActiveRecord: 0.0ms | Allocations: 33231)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (436.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (456.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (459.7ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTruncate Tables (463.1ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (149.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
UsersControllerTest: test_GET_show_shows_all_the_user_data
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:31:49.231420"], ["updated_at", "2019-12-02 02:31:49.231420"]]
  [1m[36mAddress Create (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake street"], ["number", "123"], ["zip_code", "3434"], ["created_at", "2019-12-02 02:31:49.233356"], ["updated_at", "2019-12-02 02:31:49.233356"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/1" for 127.0.0.1 at 2019-12-01 23:31:49 -0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (198.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (203.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (198.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  Rendered users/show.html.erb within layouts/application (Duration: 2.1ms | Allocations: 822)
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-----------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 23:31:49 -0300
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 23:31:49 -0300
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "zip_code"=>"0"}}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:31:49.274723"], ["updated_at", "2019-12-02 02:31:49.274723"]]
Processing by UsersController#new_with_address as HTML
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake street"], ["number", "123"], ["zip_code", "3434"], ["created_at", "2019-12-02 02:31:49.276801"], ["updated_at", "2019-12-02 02:31:49.276801"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/users/1/edit_with_address" for 127.0.0.1 at 2019-12-01 23:31:49 -0300
Processing by UsersController#update_with_address as HTML
  Parameters: {"user"=>{"name"=>"Jane", "lastname"=>"Doe", "email"=>"email2@test.com", "address_attributes"=>{"street"=>"Fake Street2", "number"=>"111", "zip_code"=>"1"}}, "id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:31:49.289689"], ["updated_at", "2019-12-02 02:31:49.289689"]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake Street"], ["number", "123"], ["zip_code", "0"], ["created_at", "2019-12-02 02:31:49.291802"], ["updated_at", "2019-12-02 02:31:49.291802"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
Redirected to http://www.example.com/users/1
Completed 302 Found in 19ms (ActiveRecord: 1.0ms | Allocations: 11342)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Jane"], ["email", "email2@test.com"], ["updated_at", "2019-12-02 02:31:49.294503"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Update (0.2ms)[0m  [1m[33mUPDATE "addresses" SET "street" = ?, "number" = ?, "zip_code" = ?, "updated_at" = ? WHERE "addresses"."id" = ?[0m  [["street", "Fake Street2"], ["number", "111"], ["zip_code", "1"], ["updated_at", "2019-12-02 02:31:49.296376"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 12ms (ActiveRecord: 0.8ms | Allocations: 2437)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:31:49.305242"], ["updated_at", "2019-12-02 02:31:49.305242"]]
  Rendering users/new_with_address.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mAddress Create (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake street"], ["number", "123"], ["zip_code", "3434"], ["created_at", "2019-12-02 02:31:49.306650"], ["updated_at", "2019-12-02 02:31:49.306650"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
Started GET "/users/1/edit_with_address" for 127.0.0.1 at 2019-12-01 23:31:49 -0300
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by UsersController#edit_with_address as HTML
  Parameters: {"id"=>"1"}
--------------------------------------------------------------------------------------------------------
AddressesControllerTest: test_GET_new_with_user_shows_a_form_for_the_address_with_nested_user_attributes
--------------------------------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 23:31:49 -0300
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
Processing by AddressesController#new_with_user as HTML
  Rendering users/edit_with_address.html.erb within layouts/application
  Rendering addresses/new_with_user.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 87ms (Views: 81.7ms | ActiveRecord: 0.2ms | Allocations: 16035)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------
AddressesControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  Rendered users/_form_fields_with_address.html.erb (Duration: 17.0ms | Allocations: 10395)
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 30.7ms | Allocations: 17704)
Started POST "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 23:31:49 -0300
Processing by AddressesController#create_with_user as HTML
  Parameters: {"address"=>{"street"=>"Fake Street", "number"=>"123", "zip_code"=>"0", "user_attributes"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com"}}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:31:49.345355"], ["updated_at", "2019-12-02 02:31:49.345355"]]
  [1m[36mAddress Create (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake Street"], ["number", "123"], ["zip_code", "0"], ["created_at", "2019-12-02 02:31:49.346680"], ["updated_at", "2019-12-02 02:31:49.346680"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendered users/_form_fields_with_address.html.erb (Duration: 19.5ms | Allocations: 10428)
Redirected to http://www.example.com/addresses/1
  Rendered users/edit_with_address.html.erb within layouts/application (Duration: 32.7ms | Allocations: 17272)
Completed 302 Found in 5ms (ActiveRecord: 0.5ms | Allocations: 1652)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendered addresses/new_with_user.html.erb within layouts/application (Duration: 31.5ms | Allocations: 16898)
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 133ms (Views: 106.1ms | ActiveRecord: 1.2ms | Allocations: 42994)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 115ms (Views: 111.7ms | ActiveRecord: 0.3ms | Allocations: 32592)
Completed 200 OK in 110ms (Views: 107.7ms | ActiveRecord: 0.0ms | Allocations: 31934)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (364.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (366.4ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (369.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (370.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (179.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (220.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
  [1m[35m (255.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------
AddressesControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started POST "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 23:32:40 -0300
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:32:40.923133"], ["updated_at", "2019-12-02 02:32:40.923133"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake street"], ["number", "123"], ["zip_code", "3434"], ["created_at", "2019-12-02 02:32:40.925609"], ["updated_at", "2019-12-02 02:32:40.925609"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/1/edit_with_address" for 127.0.0.1 at 2019-12-01 23:32:40 -0300
Processing by AddressesController#create_with_user as HTML
  Parameters: {"address"=>{"street"=>"Fake Street", "number"=>"123", "zip_code"=>"0", "user_attributes"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com"}}}
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 23:32:40 -0300
Processing by UsersController#edit_with_address as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
Processing by UsersController#new_with_address as HTML
  Rendering users/edit_with_address.html.erb within layouts/application
  [1m[35m (291.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
AddressesControllerTest: test_GET_new_with_user_shows_a_form_for_the_address_with_nested_user_attributes
--------------------------------------------------------------------------------------------------------
  Rendering users/new_with_address.html.erb within layouts/application
Started GET "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 23:32:40 -0300
Processing by AddressesController#new_with_user as HTML
  Rendered users/_form_fields_with_address.html.erb (Duration: 12.3ms | Allocations: 10435)
  Rendered users/edit_with_address.html.erb within layouts/application (Duration: 23.2ms | Allocations: 17780)
  Rendered users/_form_fields_with_address.html.erb (Duration: 15.0ms | Allocations: 10395)
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 25.4ms | Allocations: 17704)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:32:40.983087"], ["updated_at", "2019-12-02 02:32:40.983087"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake Street"], ["number", "123"], ["zip_code", "0"], ["created_at", "2019-12-02 02:32:40.985107"], ["updated_at", "2019-12-02 02:32:40.985107"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addresses/1
Completed 302 Found in 56ms (ActiveRecord: 1.1ms | Allocations: 11283)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-----------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:32:40.996663"], ["updated_at", "2019-12-02 02:32:40.996663"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake street"], ["number", "123"], ["zip_code", "3434"], ["created_at", "2019-12-02 02:32:40.998338"], ["updated_at", "2019-12-02 02:32:40.998338"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/users/1/edit_with_address" for 127.0.0.1 at 2019-12-01 23:32:41 -0300
Processing by UsersController#update_with_address as HTML
  Parameters: {"user"=>{"name"=>"Jane", "lastname"=>"Doe", "email"=>"email2@test.com", "address_attributes"=>{"street"=>"Fake Street2", "number"=>"111", "zip_code"=>"1"}}, "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Jane"], ["email", "email2@test.com"], ["updated_at", "2019-12-02 02:32:41.007750"], ["id", 1]]
  [1m[36mAddress Update (0.2ms)[0m  [1m[33mUPDATE "addresses" SET "street" = ?, "number" = ?, "zip_code" = ?, "updated_at" = ? WHERE "addresses"."id" = ?[0m  [["street", "Fake Street2"], ["number", "111"], ["zip_code", "1"], ["updated_at", "2019-12-02 02:32:41.009499"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 7ms (ActiveRecord: 0.7ms | Allocations: 2234)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
UsersControllerTest: test_GET_show_shows_all_the_user_data
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:32:41.016918"], ["updated_at", "2019-12-02 02:32:41.016918"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake street"], ["number", "123"], ["zip_code", "3434"], ["created_at", "2019-12-02 02:32:41.018685"], ["updated_at", "2019-12-02 02:32:41.018685"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/1" for 127.0.0.1 at 2019-12-01 23:32:41 -0300
  Rendering addresses/new_with_user.html.erb within layouts/application
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 93ms (Views: 85.8ms | ActiveRecord: 0.3ms | Allocations: 33458)
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (Duration: 2.5ms | Allocations: 626)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 97ms (Views: 90.1ms | ActiveRecord: 0.0ms | Allocations: 33344)
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 23:32:41 -0300
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "zip_code"=>"0"}}}
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:32:41.043951"], ["updated_at", "2019-12-02 02:32:41.043951"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake Street"], ["number", "123"], ["zip_code", "0"], ["created_at", "2019-12-02 02:32:41.045860"], ["updated_at", "2019-12-02 02:32:41.045860"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 6ms (ActiveRecord: 0.6ms | Allocations: 1651)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  Rendered addresses/new_with_user.html.erb within layouts/application (Duration: 26.9ms | Allocations: 17427)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 80ms (Views: 77.6ms | ActiveRecord: 0.2ms | Allocations: 15700)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 142ms (Views: 82.8ms | ActiveRecord: 1.2ms | Allocations: 42816)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (380.6ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (390.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mTruncate Tables (425.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[36mTruncate Tables (429.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (177.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (187.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
  [1m[35m (193.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (195.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
UsersControllerTest: test_GET_show_shows_all_the_user_data
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:32:52.978475"], ["updated_at", "2019-12-02 02:32:52.978475"]]
  [1m[36mAddress Create (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake street"], ["number", "123"], ["zip_code", "3434"], ["created_at", "2019-12-02 02:32:52.981015"], ["updated_at", "2019-12-02 02:32:52.981015"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/1/edit_with_address" for 127.0.0.1 at 2019-12-01 23:32:52 -0300
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:32:52.986813"], ["updated_at", "2019-12-02 02:32:52.986813"]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-----------------------------------------------------------------------------------------------
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake street"], ["number", "123"], ["zip_code", "3434"], ["created_at", "2019-12-02 02:32:52.989465"], ["updated_at", "2019-12-02 02:32:52.989465"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by UsersController#edit_with_address as HTML
  Parameters: {"id"=>"1"}
Started GET "/users/1" for 127.0.0.1 at 2019-12-01 23:32:52 -0300
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 23:32:52 -0300
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:32:52.997187"], ["updated_at", "2019-12-02 02:32:52.997187"]]
  [1m[36mAddress Create (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake street"], ["number", "123"], ["zip_code", "3434"], ["created_at", "2019-12-02 02:32:52.999069"], ["updated_at", "2019-12-02 02:32:52.999069"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering users/edit_with_address.html.erb within layouts/application
Started PATCH "/users/1/edit_with_address" for 127.0.0.1 at 2019-12-01 23:32:53 -0300
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
Processing by UsersController#new_with_address as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering users/show.html.erb within layouts/application
Processing by UsersController#update_with_address as HTML
  Parameters: {"user"=>{"name"=>"Jane", "lastname"=>"Doe", "email"=>"email2@test.com", "address_attributes"=>{"street"=>"Fake Street2", "number"=>"111", "zip_code"=>"1"}}, "id"=>"1"}
  Rendering users/new_with_address.html.erb within layouts/application
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (Duration: 2.3ms | Allocations: 822)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Jane"], ["email", "email2@test.com"], ["updated_at", "2019-12-02 02:32:53.017922"], ["id", 1]]
  [1m[36mAddress Update (0.1ms)[0m  [1m[33mUPDATE "addresses" SET "street" = ?, "number" = ?, "zip_code" = ?, "updated_at" = ? WHERE "addresses"."id" = ?[0m  [["street", "Fake Street2"], ["number", "111"], ["zip_code", "1"], ["updated_at", "2019-12-02 02:32:53.019934"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 11ms (ActiveRecord: 0.9ms | Allocations: 2431)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 23:32:53 -0300
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "zip_code"=>"0"}}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:32:53.031809"], ["updated_at", "2019-12-02 02:32:53.031809"]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake Street"], ["number", "123"], ["zip_code", "0"], ["created_at", "2019-12-02 02:32:53.033454"], ["updated_at", "2019-12-02 02:32:53.033454"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 1600)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------
AddressesControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started POST "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 23:32:53 -0300
Processing by AddressesController#create_with_user as HTML
  Parameters: {"address"=>{"street"=>"Fake Street", "number"=>"123", "zip_code"=>"0", "user_attributes"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com"}}}
  Rendered users/_form_fields_with_address.html.erb (Duration: 47.5ms | Allocations: 10437)
  Rendered users/edit_with_address.html.erb within layouts/application (Duration: 57.6ms | Allocations: 17783)
  Rendered users/_form_fields_with_address.html.erb (Duration: 51.6ms | Allocations: 10397)
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 62.7ms | Allocations: 17702)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:32:53.085563"], ["updated_at", "2019-12-02 02:32:53.085563"]]
  [1m[36mAddress Create (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake Street"], ["number", "123"], ["zip_code", "0"], ["created_at", "2019-12-02 02:32:53.087061"], ["updated_at", "2019-12-02 02:32:53.087061"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addresses/1
Completed 302 Found in 45ms (ActiveRecord: 0.9ms | Allocations: 1619)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
AddressesControllerTest: test_GET_new_with_user_shows_a_form_for_the_address_with_nested_user_attributes
--------------------------------------------------------------------------------------------------------
Started GET "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 23:32:53 -0300
Processing by AddressesController#new_with_user as HTML
  Rendering addresses/new_with_user.html.erb within layouts/application
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 118ms (Views: 111.3ms | ActiveRecord: 0.4ms | Allocations: 16188)
  [1m[35m (2.6ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 139ms (Views: 132.0ms | ActiveRecord: 0.2ms | Allocations: 33566)
  Rendered addresses/new_with_user.html.erb within layouts/application (Duration: 28.5ms | Allocations: 16846)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 158ms (Views: 152.0ms | ActiveRecord: 0.0ms | Allocations: 33451)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 109ms (Views: 106.9ms | ActiveRecord: 0.0ms | Allocations: 32063)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (392.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mTruncate Tables (419.9ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mTruncate Tables (439.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[36mTruncate Tables (438.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (143.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
AddressesControllerTest: test_GET_new_with_user_shows_a_form_for_the_address_with_nested_user_attributes
--------------------------------------------------------------------------------------------------------
  [1m[35m (169.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (180.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (169.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
----------------------------------------
-------------------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
Started GET "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 23:33:22 -0300
Processing by AddressesController#new_with_user as HTML
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------
AddressesControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
UsersControllerTest: test_GET_show_shows_all_the_user_data
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering addresses/new_with_user.html.erb within layouts/application
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:33:22.229584"], ["updated_at", "2019-12-02 02:33:22.229584"]]
Started POST "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 23:33:22 -0300
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 23:33:22 -0300
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake street"], ["number", "123"], ["zip_code", "3434"], ["created_at", "2019-12-02 02:33:22.232063"], ["updated_at", "2019-12-02 02:33:22.232063"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/1" for 127.0.0.1 at 2019-12-01 23:33:22 -0300
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "zip_code"=>"0"}}}
  Rendered addresses/new_with_user.html.erb within layouts/application (Duration: 21.8ms | Allocations: 17418)
Processing by AddressesController#create_with_user as HTML
  Parameters: {"address"=>{"street"=>"Fake Street", "number"=>"123", "zip_code"=>"0", "user_attributes"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com"}}}
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:33:22.246094"], ["updated_at", "2019-12-02 02:33:22.246094"]]
  [1m[36mAddress Create (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake Street"], ["number", "123"], ["zip_code", "0"], ["created_at", "2019-12-02 02:33:22.248084"], ["updated_at", "2019-12-02 02:33:22.248084"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 9ms (ActiveRecord: 0.5ms | Allocations: 2182)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:33:22.251993"], ["updated_at", "2019-12-02 02:33:22.251993"]]
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake Street"], ["number", "123"], ["zip_code", "0"], ["created_at", "2019-12-02 02:33:22.254127"], ["updated_at", "2019-12-02 02:33:22.254127"]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addresses/1
  Rendering users/show.html.erb within layouts/application
Completed 302 Found in 14ms (ActiveRecord: 0.6ms | Allocations: 2511)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:33:22.259220"], ["updated_at", "2019-12-02 02:33:22.259220"]]
  Rendered users/show.html.erb within layouts/application (Duration: 4.0ms | Allocations: 821)
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Create (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake street"], ["number", "123"], ["zip_code", "3434"], ["created_at", "2019-12-02 02:33:22.261112"], ["updated_at", "2019-12-02 02:33:22.261112"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/1/edit_with_address" for 127.0.0.1 at 2019-12-01 23:33:22 -0300
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Processing by UsersController#edit_with_address as HTML
  Parameters: {"id"=>"1"}
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 23:33:22 -0300
  Rendering users/edit_with_address.html.erb within layouts/application
Processing by UsersController#new_with_address as HTML
  Rendering users/new_with_address.html.erb within layouts/application
  Rendered users/_form_fields_with_address.html.erb (Duration: 15.0ms | Allocations: 10428)
  Rendered users/edit_with_address.html.erb within layouts/application (Duration: 24.3ms | Allocations: 17272)
  Rendered users/_form_fields_with_address.html.erb (Duration: 14.1ms | Allocations: 10329)
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 24.0ms | Allocations: 17181)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 126ms (Views: 119.2ms | ActiveRecord: 0.0ms | Allocations: 33184)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 93ms (Views: 84.8ms | ActiveRecord: 0.3ms | Allocations: 16282)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
-----------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:33:22.344340"], ["updated_at", "2019-12-02 02:33:22.344340"]]
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake street"], ["number", "123"], ["zip_code", "3434"], ["created_at", "2019-12-02 02:33:22.347093"], ["updated_at", "2019-12-02 02:33:22.347093"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/users/1/edit_with_address" for 127.0.0.1 at 2019-12-01 23:33:22 -0300
Processing by UsersController#update_with_address as HTML
  Parameters: {"user"=>{"name"=>"Jane", "lastname"=>"Doe", "email"=>"email2@test.com", "address_attributes"=>{"street"=>"Fake Street2", "number"=>"111", "zip_code"=>"1"}}, "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Jane"], ["email", "email2@test.com"], ["updated_at", "2019-12-02 02:33:22.362497"], ["id", 1]]
  [1m[36mAddress Update (0.2ms)[0m  [1m[33mUPDATE "addresses" SET "street" = ?, "number" = ?, "zip_code" = ?, "updated_at" = ? WHERE "addresses"."id" = ?[0m  [["street", "Fake Street2"], ["number", "111"], ["zip_code", "1"], ["updated_at", "2019-12-02 02:33:22.364971"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 10ms (ActiveRecord: 1.2ms | Allocations: 2258)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 135ms (Views: 131.4ms | ActiveRecord: 0.3ms | Allocations: 32847)
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 137ms (Views: 135.6ms | ActiveRecord: 0.0ms | Allocations: 32481)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "schema_sha1"]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mTruncate Tables (638.5ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (640.2ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[36mTruncate Tables (766.0ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[36mTruncate Tables (763.8ms)[0m  [1m[31mDELETE FROM "users";
DELETE FROM "addresses"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "addresses";
DELETE FROM "users"[0m
  [1m[35m (280.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (271.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_edit_with_address_shows_a_form_for_the_user_with_nested_address_attributes
--------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------
UsersControllerTest: test_GET_new_with_address_shows_a_form_for_the_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------------
Started GET "/users/new_with_address" for 127.0.0.1 at 2019-12-01 23:33:41 -0300
Processing by UsersController#new_with_address as HTML
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:33:41.456097"], ["updated_at", "2019-12-02 02:33:41.456097"]]
  [1m[36mAddress Create (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake street"], ["number", "123"], ["zip_code", "3434"], ["created_at", "2019-12-02 02:33:41.458221"], ["updated_at", "2019-12-02 02:33:41.458221"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (204.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (207.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------
UsersControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
UsersControllerTest: test_PATCH_edit_with_address_updates_a_user_with_nested_address_attributes
---------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------
Started GET "/users/1/edit_with_address" for 127.0.0.1 at 2019-12-01 23:33:41 -0300
Processing by UsersController#edit_with_address as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  Rendering users/new_with_address.html.erb within layouts/application
  Rendering users/edit_with_address.html.erb within layouts/application
Started POST "/users/new_with_address" for 127.0.0.1 at 2019-12-01 23:33:41 -0300
Processing by UsersController#create_with_address as HTML
  Parameters: {"user"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com", "address_attributes"=>{"street"=>"Fake Street", "number"=>"123", "zip_code"=>"0"}}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:33:41.490901"], ["updated_at", "2019-12-02 02:33:41.490901"]]
  [1m[36mAddress Create (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake street"], ["number", "123"], ["zip_code", "3434"], ["created_at", "2019-12-02 02:33:41.493162"], ["updated_at", "2019-12-02 02:33:41.493162"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/users/1/edit_with_address" for 127.0.0.1 at 2019-12-01 23:33:41 -0300
  Rendered users/_form_fields_with_address.html.erb (Duration: 12.0ms | Allocations: 10435)
  Rendered users/edit_with_address.html.erb within layouts/application (Duration: 20.9ms | Allocations: 17781)
  Rendered users/_form_fields_with_address.html.erb (Duration: 14.3ms | Allocations: 10395)
  Rendered users/new_with_address.html.erb within layouts/application (Duration: 24.2ms | Allocations: 17704)
Processing by UsersController#update_with_address as HTML
  Parameters: {"user"=>{"name"=>"Jane", "lastname"=>"Doe", "email"=>"email2@test.com", "address_attributes"=>{"street"=>"Fake Street2", "number"=>"111", "zip_code"=>"1"}}, "id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:33:41.509006"], ["updated_at", "2019-12-02 02:33:41.509006"]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAddress Create (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake Street"], ["number", "123"], ["zip_code", "0"], ["created_at", "2019-12-02 02:33:41.510865"], ["updated_at", "2019-12-02 02:33:41.510865"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
Completed 302 Found in 22ms (ActiveRecord: 1.0ms | Allocations: 11340)
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Jane"], ["email", "email2@test.com"], ["updated_at", "2019-12-02 02:33:41.513045"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Update (0.1ms)[0m  [1m[33mUPDATE "addresses" SET "street" = ?, "number" = ?, "zip_code" = ?, "updated_at" = ? WHERE "addresses"."id" = ?[0m  [["street", "Fake Street2"], ["number", "111"], ["zip_code", "1"], ["updated_at", "2019-12-02 02:33:41.514437"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1
Completed 302 Found in 9ms (ActiveRecord: 0.5ms | Allocations: 2430)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
UsersControllerTest: test_GET_show_shows_all_the_user_data
----------------------------------------------------------
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------
AddressesControllerTest: test_GET_new_with_user_shows_a_form_for_the_address_with_nested_user_attributes
--------------------------------------------------------------------------------------------------------
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:33:41.520414"], ["updated_at", "2019-12-02 02:33:41.520414"]]
Started GET "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 23:33:41 -0300
  [1m[36mAddress Create (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake street"], ["number", "123"], ["zip_code", "3434"], ["created_at", "2019-12-02 02:33:41.522014"], ["updated_at", "2019-12-02 02:33:41.522014"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/1" for 127.0.0.1 at 2019-12-01 23:33:41 -0300
Processing by UsersController#show as HTML
Processing by AddressesController#new_with_user as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering addresses/new_with_user.html.erb within layouts/application
  Rendering users/show.html.erb within layouts/application
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."user_id" = ? LIMIT ?[0m  [["user_id", 1], ["LIMIT", 1]]
  Rendered users/show.html.erb within layouts/application (Duration: 2.1ms | Allocations: 628)
  Rendered addresses/new_with_user.html.erb within layouts/application (Duration: 27.7ms | Allocations: 16898)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 91ms (Views: 84.4ms | ActiveRecord: 0.3ms | Allocations: 33704)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------
AddressesControllerTest: test_POST_new_with_address_creates_a_user_with_nested_address_attributes
-------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
Started POST "/addresses/new_with_user" for 127.0.0.1 at 2019-12-01 23:33:41 -0300
Processing by AddressesController#create_with_user as HTML
  Parameters: {"address"=>{"street"=>"Fake Street", "number"=>"123", "zip_code"=>"0", "user_attributes"=>{"name"=>"John", "lastname"=>"Doe", "email"=>"email@test.com"}}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "lastname", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "John"], ["lastname", "Doe"], ["email", "email@test.com"], ["created_at", "2019-12-02 02:33:41.574794"], ["updated_at", "2019-12-02 02:33:41.574794"]]
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mAddress Create (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("user_id", "street", "number", "zip_code", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["user_id", 1], ["street", "Fake Street"], ["number", "123"], ["zip_code", "0"], ["created_at", "2019-12-02 02:33:41.575858"], ["updated_at", "2019-12-02 02:33:41.575858"]]
Completed 200 OK in 124ms (Views: 102.6ms | ActiveRecord: 1.1ms | Allocations: 43295)
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/addresses/1
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 1587)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAddress Load (0.0ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------
AddressTest: test_it_has_a_User_user
------------------------------------
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------
AddressTest: test_it_adds_attributes_for_the_user
-------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
-------------------------------------------------
UserTest: test_it_adds_attributes_for_the_address
-------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
UserTest: test_it_has_an_Address_address
----------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 76ms (Views: 73.7ms | ActiveRecord: 0.3ms | Allocations: 16058)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 108ms (Views: 106.3ms | ActiveRecord: 0.0ms | Allocations: 32278)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
